# Code Review

**Generated by Requirements Gathering Agent v2.1.2**  
**Category:** quality-assurance  
**Generated:** 2025-06-17T09:22:42.402Z  
**Description:** Code review processes and standards

---

# Code Review Process and Guidelines
## === PROJECT README ===
# ADPA - Automated Documentation Project Assistant

*Formerly: Requirements Gathering Agent*

[![npm version](https://badge.fury.io/js/requirements-gathering-agent.svg)](https://badge.fury.io/js/requirements-gathering-agent)
[![npm downloads](https://img.shields.io/npm/dm/requirements-gathering-agent.svg)](https://www.npmjs.com/package/requirements-gathering-agent)
[![license](https://img.shields.io/npm/l/requirements-gathering-agent.svg)](https://github.com/your-username/requirements-gathering-agent/blob/main/LICENSE)

---

## 🎉 MILESTONE ACHIEVED: 175 Weekly Downloads! 

**We're celebrating a major milestone - 175 weekly downloads on NPM!** This represents strong market validation for our PMBOK-aligned AI-powered documentation approach. Thank you to our growing community of project managers and business analysts who are transforming their documentation workflows! 🚀

**[📊 View Full Milestone Report →](MILESTONE-175-DOWNLOADS.md)**

---

## 🏆 BREAKTHROUGH: AI-Powered Strategic Business Inception

**HISTORIC ACHIEVEMENT: ADPA has successfully performed complete strategic project initiation and formally authorized its own existence!**

### 🎯 Context Foundation Strategy Complete

Through our revolutionary **"Context Foundation"** approach, ADPA has demonstrated unprecedented AI-powered business intelligence by:

- ✅ **Generated Strategic Justification** → [`BusinessCase.md`](generated-documents/core-analysis/business-case.md) - Complete ROI analysis and strategic rationale
- ✅ **Mapped Stakeholder Ecosystem** → [`StakeholderRegister.md`](generated-documents/stakeholder-management/stakeholder-register.md) - Intelligent stakeholder identification and engagement planning  
- ✅ **Defined Project Boundaries** → [`ProjectScopeStatement.md`](generated-documents/scope-management/project-scope-statement.md) - Precise scope definition with clear in/out boundaries
- ✅ **Assessed Strategic Risks** → [`RiskRegister.md`](generated-documents/risk-management/risk-register.md) - Comprehensive risk analysis with mitigation strategies
- ✅ **Issued Executive Authorization** → [`ProjectCharter.md`](generated-documents/project-charter.md) - **FORMAL PROJECT CHARTER WITH FULL ORGANIZATIONAL AUTHORITY**

### 🚀 The World's First AI-Powered Strategic Business Inception Engine

ADPA has evolved from a documentation generator to the **definitive AI-powered Strategic Business Inception Engine**, capable of:

- **📋 Complete Project Lifecycle Initiation** - From business case to formal charter authorization
- **🧠 Cross-Document Intelligence** - Synthesizes insights across multiple foundational documents  
- **👔 Executive-Grade Output** - Board-presentation ready strategic documents
- **⚖️ PMBOK 7.0 Compliance** - Full adherence to project management best practices
- **🎯 Self-Actualization** - ADPA literally authorized its own project existence through AI synthesis

**This represents a paradigm shift from "document generation" to "strategic business intelligence."**

**[🎯 View Complete Strategic Foundation →](generated-documents/)**

---

## 🏆 LATEST ACHIEVEMENT: Technical Design Document System

**MISSION COMPLETE: ADPA has successfully implemented a comprehensive Technical Design Document Generation System!**

### 🚀 Technical Design System Victory

ADPA now features a complete **AI-Powered Technical Design Documentation Suite** with enterprise-grade capabilities:

- **✅ 10 Specialized Technical Document Processors** - Each with dedicated AI prompts for intelligent content generation
- **✅ Comprehensive Professional Templates** - Enterprise-ready markdown structures with context-aware content
- **✅ Full CLI Integration** - Complete command-line accessibility and discoverability
- **✅ Modular Architecture** - Extensible processor-based system for future expansion
- **✅ Validation Framework** - Built-in quality assurance and error handling
- **✅ Context-Aware Generation** - Documents adapt to specific project contexts and requirements

### 🔧 Technical Document Types Implemented

1. **Architecture Design** - System architecture, components, and structural patterns
2. **System Design** - Detailed system specifications and design decisions
3. **Database Schema** - Data modeling, relationships, and database structure
4. **API Documentation** - RESTful API specifications and integration guides
5. **Security Design** - Security architecture, protocols, and compliance frameworks
6. **Performance Requirements** - Performance specifications, benchmarks, and SLAs
7. **Integration Design** - System integration patterns and data flow documentation
8. **Technical Stack** - Technology recommendations and stack analysis
9. **Deployment Architecture** - Infrastructure design and deployment strategies
10. **Error Handling** - Error patterns, recovery procedures, and logging strategies

### 🎯 Key Technical Achievements

- **Specialized AI Prompts**: Each processor uses document-specific AI instructions for optimal content generation
- **Professional Templates**: Comprehensive markdown structures with executive summaries, technical specifications, and implementation guidelines
- **Context Integration**: All documents leverage project context for personalized, relevant content
- **CLI Commands**: Full integration with `--generate-technical` and individual document generation commands
- **Quality Assurance**: Built-in validation, error handling, and output verification
- **Enterprise-Ready**: Production-quality code with TypeScript, comprehensive testing, and modular design

### 🚀 Usage Examples

```bash
# Generate all technical design documents
requirements-gathering-agent --generate-technical

# Generate specific technical documents
requirements-gathering-agent --generate architecturedesign
requirements-gathering-agent --generate apidocumentation
requirements-gathering-agent --generate securitydesign
```

**The Technical Design Document System represents a major evolution in ADPA's capabilities, providing enterprise-grade technical documentation with AI-powered intelligence and professional quality output.**

**[🏆 View Complete Victory Report →](ADPA-QA-ENGINE-VICTORY-REPORT.md)**

---

## 🚀 NEW: Business Communication Translator System

**ADPA (Automated Documentation Project Assistant)** has evolved beyond simple documentation generation - we're now a sophisticated **Business Communication Translator** that transforms technical project context into strategic business documents!

### 🎯 Recent Breakthroughs

- **✨ Strategic Document Generation**: Successfully generates professional Company Values, Purpose Statements, and other executive-ready strategic documents
- **🧠 Deep Context Understanding**: Advanced AI analysis that understands project essence and translates it into authentic corporate communications
- **🔄 Meta-Capability "Dogfooding"**: ADPA can now generate its own strategic artifacts from its own project context - the ultimate validation!
- **📈 Professional Quality Output**: Executive-ready documents indistinguishable from professionally crafted corporate materials
- **🎨 Intelligent Expansion**: System adds value beyond templates by including relevant sections like "Living Our Values" and actionable behavioral examples

### 🏆 Success Metrics
- ✅ **Authenticity**: Generated values genuinely reflect real project missions and capabilities
- ✅ **Intelligence**: System infers implicit concepts and expands appropriately on technical details
- ✅ **Professional Grade**: Output ready for executive presentations and corporate websites
- ✅ **Context-Adaptive**: Templates are generic and instructional, not hardcoded to specific projects

**[🎯 View Generated Strategic Documents →](generated-documents/strategic-statements/)**

---

🚀 **AI-powered PMBOK documentation generator using Azure OpenAI**

Transform your project's README into comprehensive project management documentation following PMBOK (Project Management Body of Knowledge) standards.

## Features

✅ **🏆 TECHNICAL DESIGN DOCUMENT SYSTEM** - Complete AI-powered technical design documentation suite (NEW!)  
✅ **🔧 10 Technical Document Processors** - Architecture, System Design, Database Schema, API Documentation, Security Design, Performance Requirements, Integration Design, Technical Stack, Deployment Architecture, Error Handling  
✅ **📋 Context-Aware Technical Templates** - Professional, comprehensive markdown templates for enterprise-grade documentation  
✅ **🚀 Specialized AI Prompts** - Document-specific AI instructions for intelligent content generation  
✅ **⚡ CLI Technical Generation** - Full command-line accessibility with `--generate-technical` and individual document commands  
✅ **Business Communication Translator** - Transform technical context into strategic business documents  
✅ **Strategic Document Generation** - Company Values, Purpose Statements, and executive-ready materials  
✅ **Complete PMBOK Document Suite** - Generates 29 professional documents  
✅ **Enhanced Project Analysis** - Discovers and analyzes ALL markdown files beyond README.md  
✅ **Intelligent Context Building** - Scores and prioritizes documentation sources (0-100 relevance)  
✅ **Deep Context Understanding** - Advanced AI that understands project essence and translates authentically  
✅ **Comprehensive Source Discovery** - Finds stakeholder docs, architecture files, requirements, and more  
✅ **PMBOK 7.0 Compliance Validation** - Validates documents against PMBOK standards  
✅ **Cross-Document Consistency** - Ensures consistency across all generated documents  
✅ **Document Quality Assessment** - Provides detailed quality scores and recommendations  
✅ **Azure OpenAI Integration** - Powered by GPT-4 with Entra ID authentication  
✅ **Organized Output** - Professional categorized directory structure  
✅ **Multiple AI Providers** - Azure OpenAI, GitHub AI, Ollama support  
✅ **Enhanced Context Manager** - Intelligent 3-phase context strategy for large language models  
✅ **Large Context Model Support** - Up to 90% context utilization for models like Gemini 1.5 Pro (2M tokens)  
✅ **Enterprise Ready** - Robust error handling and retry logic  
✅ **TypeScript** - Modern, type-safe implementation

## Quick Start

### Installation

```bash
# Install globally
npm install -g requirements-gathering-agent

# Or run directly with npx
npx requirements-gathering-agent
```

### Basic Usage

```bash
# Generate all PMBOK documents
requirements-gathering-agent

### � Technical Design Document Generation (NEW!)
# Generate all technical design documents
requirements-gathering-agent --generate-technical

# Generate specific technical design documents
requirements-gathering-agent --generate architecturedesign
requirements-gathering-agent --generate systemdesign
requirements-gathering-agent --generate databaseschema
requirements-gathering-agent --generate apidocumentation
requirements-gathering-agent --generate securitydesign
requirements-gathering-agent --generate performancerequirements
requirements-gathering-agent --generate integrationdesign
requirements-gathering-agent --generate technicalstack
requirements-gathering-agent --generate deploymentarchitecture
requirements-gathering-agent --generate errorhandling

### �🎯 Strategic Document Generation
# Generate executive-ready strategic documents
requirements-gathering-agent --generate purpose-statement
requirements-gathering-agent --generate company-values

### 📋 PMBOK Document Generation
# Generate all documents with PMBOK 7.0 validation
requirements-gathering-agent --validate-pmbok

# Generate with comprehensive validation and quality assessment
requirements-gathering-agent --generate-with-validation

# Generate core documents only
requirements-gathering-agent --core-only

# Generate stakeholder documents only
requirements-gathering-agent --generate-stakeholder

# Generate with retry logic
requirements-gathering-agent --with-retry

# Validate existing documents against PMBOK standards
requirements-gathering-agent --validate-only
```

## 🔍 Enhanced Project Analysis

The Requirements Gathering Agent now features **comprehensive project analysis** that goes far beyond just reading your README.md file. It intelligently discovers and analyzes ALL relevant documentation in your project to build the richest possible context for generating PMBOK documents.

### Intelligent Source Discovery

The enhanced analyzer automatically discovers and processes:

- **📋 Requirements Documents** (`requirements/`, `specs/`, `specifications/`)
- **🏗️ Architecture Documentation** (`docs/architecture.md`, `design/`)
- **👥 Stakeholder Information** (`stakeholders.md`, `requirements/stakeholders.md`)
- **📋 Planning Documents** (`planning/`, `roadmap.md`, `scope.md`)
- **⚙️ Technical Documentation** (`docs/`, `wiki/`, `.github/`)
- **🔄 Project Metadata** (`package.json`, project configuration files)

### Smart Relevance Scoring

Each discovered file is analyzed and scored (0-100) based on:

- **📝 Content Relevance** - PMBOK terminology and project management concepts
- **📁 File Location** - Strategic placement in documentation directories  
- **🏷️ Naming Patterns** - High-value keywords (requirements, architecture, stakeholders)
- **📏 Content Structure** - Well-organized documents with headers and sections
- **📊 Content Depth** - Substantial, meaningful documentation

### Automatic Categorization

Files are intelligently categorized as:
- **🔵 Primary** - Core project documentation (overview, introduction, setup)
- **🟢 Planning** - Requirements, roadmaps, scope, planning documents
- **🟡 Development** - Architecture, APIs, technical specifications
- **🟠 Documentation** - User guides, tutorials, general documentation  
- **⚪ Other** - Supporting documentation

### Enhanced Context Building

The system builds comprehensive project context by:
- **🎯 Prioritizing** high-scoring, relevant documentation sources
- **📋 Integrating** content from multiple markdown files beyond README.md
- **⚖️ Balancing** context size to avoid token overflow while maximizing information
- **💡 Suggesting** the most valuable source files for manual review

### Example Analysis Output

```bash
🔍 Performing comprehensive project analysis...
✅ Found 12 additional markdown files
📋 Found 12 additional relevant files:
   • stakeholder-requirements.md (planning, score: 89)
   • architecture-overview.md (development, score: 76)
   • project-scope.md (planning, score: 71)
   • api-documentation.md (development, score: 65)
   • user-guide.md (documentation, score: 58)
💡 High-value sources identified: stakeholder-requirements.md, architecture-overview.md, project-scope.md
```

This enhanced analysis ensures that **all relevant project information** is discovered and incorporated into your PMBOK documents, resulting in more accurate, comprehensive, and stakeholder-specific documentation.

## 🧠 Enhanced Context Manager

The Requirements Gathering Agent features an **Enhanced Context Manager** that dramatically improves documentation quality by providing comprehensive context to large language models. This intelligent system adapts to your AI model's capabilities to deliver the best possible results.

### 🚀 Key Performance Improvements

- **25-75x Context Improvement**: From 0.66% to 20-50% context utilization
- **Large Model Optimization**: Up to 90% context utilization for models like Gemini 1.5 Pro
- **Intelligent Adaptation**: Automatically detects and optimizes for your AI model's capabilities
- **Comprehensive Project Understanding**: Provides full project context for accurate documentation

### 🔧 3-Phase Context Strategy

The Enhanced Context Manager implements an intelligent 3-phase approach:

#### Phase 1: Core Context
- **Direct Relationships**: All directly related content with smart prioritization
- **Relationship Scoring**: Context prioritized by relationship count and relevance
- **Token Optimization**: Precise token estimation and allocation

#### Phase 2: Ultra-Large Model Support (>200k tokens)
- **Comprehensive Context**: For models like Gemini 1.5 Pro/Flash (1M-2M tokens)
- **Maximum Accuracy**: Includes ALL available project context when possible
- **Smart Buffer Management**: 10k token response buffer for optimal performance

#### Phase 3: Large Model Supplementary (50k-200k tokens)
- **Selective Enhancement**: Top 3 supplementary contexts for models like GPT-4, Claude
- **Balanced Approach**: Optimal context without overwhelming smaller models
- **Performance Optimization**: Intelligent caching and token management

### 📊 Model-Specific Optimization

The system automatically detects and optimizes for different AI models:

| Model | Token Limit | Context Strategy | Expected Utilization |
|-------|------------|------------------|---------------------|
| **Gemini 1.5 Pro** | 2M tokens | Ultra-large comprehensive | 20-90% |
| **Gemini 1.5 Flash** | 1M tokens | Ultra-large comprehensive | 20-90% |
| **GPT-4** | 128k tokens | Large supplementary | 15-50% |
| **Claude 3.5 Sonnet** | 200k tokens | Large supplementary | 15-50% |
| **Ollama Models** | 128k tokens | Large supplementary | 15-50% |

### 🎯 Real-World Impact

**Before Enhanced Context Manager:**
- Context utilization: ~0.66-0.80% of available tokens
- Limited project understanding
- Basic documentation generation

**After Enhanced Context Manager:**
- Context utilization: 20-90% for large models
- Comprehensive project understanding
- Dramatically more accurate and detailed documentation
- Better cross-references and consistency

### 📈 Advanced Reporting & Analytics

Get detailed insights into context performance:

```bash
# Get context utilization report
requirements-gathering-agent --context-report

# Analyze document-specific context usage
requirements-gathering-agent --analyze-context

# Performance metrics and optimization recommendations
requirements-gathering-agent --context-metrics
```

**Example Context Report:**
```
📊 Context Manager Performance Report
- Core Context Tokens: 12,450
- Enriched Context Items: 18
- Total Project Tokens: 156,890
- Model Type: Ultra-Large Context (Gemini 1.5 Pro)
- Context Utilization: 47.3% (946,800 tokens used)
- Performance: 🌟 Excellent - Making optimal use of large context capabilities
```

### Supported Project Structures

The enhanced analyzer intelligently searches common documentation patterns:

```
your-project/
├── README.md                    # Primary project documentation
├── docs/                       # General documentation
│   ├── architecture.md         # System architecture
│   ├── api.md                  # API documentation  
│   └── user-guide.md           # User guides
├── requirements/               # Requirements documentation
│   ├── stakeholders.md         # Stakeholder analysis
│   ├── functional.md           # Functional requirements
│   └── non-functional.md       # Non-functional requirements
├── specs/                      # Technical specifications
├── planning/                   # Project planning documents
│   ├── roadmap.md             # Project roadmap
│   └── scope.md               # Project scope
├── .github/                    # GitHub documentation
│   └── CONTRIBUTING.md         # Contribution guidelines
├── design/                     # Design documentation
└── wiki/                       # Wiki-style documentation
```

The analyzer automatically:
- **🔍 Searches recursively** up to 3 levels deep in each directory
- **⚡ Skips system directories** (node_modules, .git, dist, build, etc.)
- **🚫 Avoids generated content** (generated-documents, coverage, logs, etc.)
- **📊 Provides source suggestions** for the highest-value documentation files

## Configuration

Create a `.env` file with your AI provider configuration:

### Google AI Studio (Free Tier Available) - Recommended for Large Context
```bash
GOOGLE_AI_API_KEY=your-google-ai-api-key
GOOGLE_AI_MODEL=gemini-1.5-pro    # 2M tokens - Ultra-large context
# OR
GOOGLE_AI_MODEL=gemini-1.5-flash  # 1M tokens - Large context
```
Get your API key: https://makersuite.google.com/app/apikey

*Note: Gemini models provide the best context utilization with the Enhanced Context Manager, supporting up to 2M tokens for comprehensive project analysis.*

### Azure OpenAI (Recommended)
```bash
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
DEPLOYMENT_NAME=gpt-4.1-mini
USE_ENTRA_ID=true
```

### GitHub AI (Free Tier)
```bash
AZURE_AI_ENDPOINT=https://models.inference.ai.azure.com
GITHUB_TOKEN=your-github-token
REQUIREMENTS_AGENT_MODEL=gpt-4o-mini
```

### Ollama (Local)
```bash
AZURE_AI_ENDPOINT=http://localhost:11434
REQUIREMENTS_AGENT_MODEL=llama3.1
```

## Generated Documents

The tool generates a comprehensive set of documents from **technical design specifications** to **strategic business communications** to **PMBOK-compliant project artifacts**:

### � Technical Design Documents (NEW!)
- **Architecture Design** - Comprehensive system architecture documentation
- **System Design** - Detailed system design specifications and patterns
- **Database Schema** - Database structure, relationships, and data modeling
- **API Documentation** - RESTful API specifications and integration guides
- **Security Design** - Security architecture, protocols, and compliance frameworks
- **Performance Requirements** - Performance specifications, benchmarks, and SLAs
- **Integration Design** - System integration patterns and data flow documentation
- **Technical Stack** - Technology stack analysis and recommendations
- **Deployment Architecture** - Infrastructure, deployment strategies, and environments
- **Error Handling** - Error handling patterns, recovery procedures, and logging strategies

### 🎯 Strategic Statements
- **Purpose Statement** - Executive-ready organizational purpose and mission definition
- **Company Values** - Professional cultural document with actionable behavioral examples
- **Mission & Vision** - Strategic direction and aspirational goals
- *More strategic documents coming soon...*

### 📋 Core Analysis
- Project Summary and Goals
- User Stories and Requirements  
- User Personas
- Key Roles and Needs Analysis

### 📜 Project Charter
- PMBOK Project Charter

### 📊 Management Plans
- Scope Management Plan
- Risk Management Plan
- Cost Management Plan
- Quality Management Plan
- Resource Management Plan
- Communication Management Plan
- Procurement Management Plan

### 🏗️ Planning Artifacts
- Work Breakdown Structure (WBS)
- WBS Dictionary
- Activity List and Estimates
- Schedule Network Diagram
- Milestone List

### 👥 Stakeholder Management
- Stakeholder Register
- Stakeholder Engagement Plan
- Stakeholder Analysis

### ⚙️ Technical Analysis
- Technology Stack Analysis
- Data Model Suggestions
- Risk Analysis
- Acceptance Criteria
- Compliance Considerations
- UI/UX Considerations

## Output Structure

```
generated-documents/
├── README.md                     # Master index
├── technical-design/            # Technical design documents (NEW!)
│   ├── architecture-design.md   # System architecture
│   ├── system-design.md         # System design specifications
│   ├── database-schema.md       # Database structure and relationships
│   ├── api-documentation.md     # API specifications
│   ├── security-design.md       # Security architecture
│   ├── performance-requirements.md # Performance specifications
│   ├── integration-design.md    # Integration patterns
│   ├── technical-stack.md       # Technology recommendations
│   ├── deployment-architecture.md # Deployment strategies
│   └── error-handling.md        # Error handling patterns
├── strategic-statements/        # Executive business documents
├── core-analysis/               # Business requirements
├── project-charter/             # Formal authorization
├── management-plans/            # PMBOK management plans
├── planning-artifacts/          # Detailed planning
├── stakeholder-management/      # Stakeholder analysis
└── technical-analysis/          # Technology recommendations
```

## Validation & Quality Assurance

### PMBOK 7.0 Compliance Validation
- **Document Completeness**: Validates all required PMBOK elements are present
- **Quality Assessment**: Scores documents based on structure, content, and terminology
- **Cross-Document Consistency**: Ensures consistency across related documents
- **Compliance Reporting**: Detailed reports with actionable recommendations

### Validation Features
- ✅ PMBOK 7.0 standard compliance checking
- ✅ Required element verification for each document type
- ✅ Project terminology consistency validation
- ✅ Document quality scoring (0-100 scale)
- ✅ Cross-reference validation between documents
- ✅ Comprehensive validation reports with recommendations

---

## 🆕 Version Control System for Generated Documents (v2.1.3+)

The Requirements Gathering Agent now features a built-in version control system (VCS) for all generated documents!

### Key Features

- **Automatic Versioning:** Every time you generate or update documents, changes are automatically committed to a local git repository in the `generated-documents/` folder.
- **History & Diffs:** View the full history of changes, see diffs, and revert to previous versions of any generated document.
- **CLI VCS Commands:** Manage document version control directly from the CLI:

  ```bash
  requirements-gathering-agent vcs log
      # Show commit history for generated documents
  requirements-gathering-agent vcs diff <file>
      # Show changes for a specific document
  requirements-gathering-agent vcs revert <file> <commit>
      # Revert a document to a previous version
  requirements-gathering-agent vcs status
      # Show uncommitted changes
  requirements-gathering-agent vcs push
      # Push local changes to remote repository (if configured)
  requirements-gathering-agent vcs pull
      # Pull latest changes from remote repository (if configured)
  ```
- **Remote Sync (Optional):** Configure a remote git repository for backup and collaboration.
- **User Configurable:** Control VCS settings in `config-rga.json` (enable/disable, auto-commit, remote, branch, etc).
- **Full Audit Trail:** Every document change is tracked for compliance and traceability.

### How It Works

- On first run, a git repository is initialized in `generated-documents/` (if not already present).
- After each document generation, changes are auto-committed with a timestamp and provider/model info.
- Use the CLI VCS commands to inspect history, view diffs, revert, or sync with a remote.

### Example Workflow

```bash
# Generate documents (auto-commit runs after generation)
requirements-gathering-agent

# View history
requirements-gathering-agent vcs log

# See changes for a specific file
requirements-gathering-agent vcs diff core-analysis/business-case.md

# Revert a file to a previous version
requirements-gathering-agent vcs revert core-analysis/business-case.md <commit-hash>

# Push changes to remote (if configured)
requirements-gathering-agent vcs push
```

---

## Command Line Options

```bash
requirements-gathering-agent [options]

Options:
  -h, --help                    Show help
  -v, --version                 Show version
  --core-only                   Generate core documents only
  --management-plans            Generate management plans only
  --planning-artifacts          Generate planning artifacts only
  --technical-analysis          Generate technical analysis only
  --generate-technical          Generate technical design documents only (NEW!)
  --generate-stakeholder        Generate stakeholder documents only
  --with-retry                  Enable retry logic for failed documents
  --output <dir>                Specify output directory (default: generated-documents)
  --format <fmt>                Output format: markdown|json|yaml (default: markdown)
  --quiet                       Suppress progress messages (good for CI/CD)
  
Validation Options:
  --validate-pmbok              Generate all documents with PMBOK 7.0 validation
  --generate-with-validation    Generate with comprehensive quality assessment
  --validate-only               Validate existing documents without regenerating
  --validate-consistency        Check cross-document consistency only
  --quality-assessment          Provide detailed quality scores for documents

Context Management Options:
  --context-report              Show Enhanced Context Manager performance report
  --analyze-context             Analyze document-specific context utilization
  --context-metrics             Display context performance metrics and recommendations
  --use-large-context           Force large context mode (auto-detected by default)

VCS Options:
  --vcs-log                     Show commit history for generated documents
  --vcs-diff <file>            Show changes for a specific document
  --vcs-revert <file> <commit>  Revert a document to a previous version
  --vcs-status                  Show uncommitted changes
  --vcs-push                    Push local changes to remote repository (if configured)
  --vcs-pull                    Pull latest changes from remote repository (if configured)
```

## 🧩 Modular Processor Architecture (2025 Update)

The Requirements Gathering Agent now uses a modular, configuration-driven processor factory for all document generation. This makes it easy to add, update, or swap document processors without changing core code.

- **Processors are registered in `processor-config.json`** using canonical keys.
- **ProcessorFactory** loads and instantiates processors based on this config, supporting both static and dynamic imports.
- **To add a new document type:**
  1. Implement your processor in `src/modules/documentTemplates/<category>/<YourProcessor>.ts`.
  2. Register it in `processor-config.json`.
  3. Add it to `generationTasks.ts` and update context relationships if needed.
  4. Add a Jest unit test for your processor (see below).
  5. Update documentation and CLI help.

See [`docs/ARCHITECTURE.md`](docs/ARCHITECTURE.md) and [`docs/STEPS-TO-IMPLEMENT-NEW-DOCS.md`](docs/STEPS-TO-IMPLEMENT-NEW-DOCS.md) for full details.

---

## 🆕 Project KickOff Preparations Checklist

A new document type: **Project KickOff Preparations Checklist**

- **Purpose:** Provides a detailed, PMBOK-aligned checklist for project initiation, planning, setup, risk, communication, and more.
- **Canonical key:** `project-kickoff-preparations-checklist`
- **Output:** `planning-artifacts/project-kickoff-preparations-checklist.md`
- **How to generate:**
  ```pwsh
  requirements-gathering-agent --generate-planning
  # or generate all documents (includes checklist)
  requirements-gathering-agent
  ```
- **CLI listing:** Appears under planning artifacts in `--list-templates` and help output.

---

## 🛠️ How to Add New Document Types

1. Follow the modular processor pattern (see above).
2. Reference [`docs/STEPS-TO-IMPLEMENT-NEW-DOCS.md`](docs/STEPS-TO-IMPLEMENT-NEW-DOCS.md) for a step-by-step guide and worked example.
3. Add a Jest unit test for your processor (see guide for example).
4. Update CLI help and documentation.

---

(Sections above and below remain unchanged)

## Enhanced Analysis in Action

When you run the Requirements Gathering Agent, you'll see the comprehensive analysis and enhanced context management in action:

```bash
🚀 Requirements Gathering Agent v2.1.1
✅ Environment configuration loaded
🧠 Enhanced Context Manager initialized (Gemini 1.5 Pro - 2M tokens)
🔍 Performing comprehensive project analysis...
🔍 Analyzing project for all relevant markdown files...
✅ Found 15 additional markdown files
📋 Found 15 additional relevant files:
   • stakeholder-analysis.md (planning, score: 94)
   • system-architecture.md (development, score: 87)
   • requirements-specification.md (planning, score: 82)
   • api-documentation.md (development, score: 76)
   • user-stories.md (planning, score: 71)
   • ... and 10 more files
💡 High-value sources identified: stakeholder-analysis.md, system-architecture.md, requirements-specification.md
🧠 Context Strategy: Ultra-large model detected - Using comprehensive 3-phase context
📊 Context Utilization: 47.3% (946,800 / 2,000,000 tokens)
📋 Starting PMBOK document generation with enhanced context...
```

This comprehensive analysis and enhanced context management ensures your generated PMBOK documents include **all relevant project information** with maximum context utilization for your AI model's capabilities.

### 🔥 Enhanced Context Manager in Action

The Enhanced Context Manager provides real-time insights during document generation:

```bash
🔧 Building context for project-charter (large context model)
📊 Available tokens: 1,847,550
📄 Added full context for stakeholder-analysis: 23,450 tokens
📄 Added full context for system-architecture: 18,920 tokens
📄 Added full context for requirements-specification: 15,670 tokens
🌟 Ultra-large context model: Including comprehensive project context
📚 Added comprehensive context for api-documentation: 12,340 tokens
📚 Added comprehensive context for user-stories: 8,920 tokens
✅ Final context for project-charter: 1,156,890 tokens (57.8% utilization)
```

This level of context ensures that each generated document has access to the full project understanding, resulting in:
- **More Accurate Documentation**: Complete project understanding leads to better accuracy
- **Better Cross-References**: Full context enables proper document relationships
- **Consistent Terminology**: Comprehensive context maintains consistency across documents
- **Stakeholder-Specific Content**: Rich context enables targeted stakeholder analysis

## Validation Output Examples

### PMBOK 7.0 Compliance Report
```
📊 PMBOK 7.0 Compliance Validation Report
==========================================

🎯 Overall Compliance: ✅ COMPLIANT
📈 Consistency Score: 92/100

📋 Document Quality Scores:
   • project-charter: 95/100
     ✅ All required PMBOK elements covered
     ✅ Uses appropriate PMBOK terminology (8 terms found)
   • stakeholder-register: 88/100
     ✅ Well-structured with multiple sections
     ⚠️ Consider adding stakeholder influence analysis

💡 Recommendations:
   • Ensure all documents follow PMBOK 7.0 performance domains
   • Include clear traceability between objectives and deliverables
   • Maintain consistent terminology across all documents
```

### Quality Assessment Features
- **Enhanced Context Analysis**: Automatically discovers and analyzes ALL project documentation
- **Enhanced Context Manager**: 3-phase context strategy with up to 90% token utilization for large models
- **Smart Source Prioritization**: Scores and ranks documentation by PMBOK relevance (0-100)  
- **Content Analysis**: Checks document length, structure, and completeness
- **PMBOK Terminology**: Validates use of standard project management terms
- **Element Coverage**: Ensures all required PMBOK elements are present
- **Consistency Scoring**: Cross-document validation and scoring
- **Actionable Recommendations**: Specific suggestions for improvement
- **Comprehensive Source Discovery**: Finds stakeholder docs, architecture files, requirements beyond README.md

## Authentication

### Google AI Studio
Get your API key from [Google AI Studio](https://makersuite.google.com/app/apikey)

### Azure OpenAI with Entra ID
```bash
az login
```

### Azure OpenAI with API Key
Set `AZURE_AI_API_KEY` in your `.env` file

### GitHub AI
Get your token from [GitHub Settings](https://github.com/settings/tokens)

### Ollama
```bash
ollama serve
```

## Development

```bash
# Clone repository
git clone https://github.com/mdresch/requirements-gathering-agent.git
cd requirements-gathering-agent

# Install dependencies
npm install

# Build
npm run build

# Run locally
npm start
```

## Requirements

- Node.js 18.0.0 or higher
- Azure OpenAI resource (recommended) or alternative AI provider
- Azure CLI (for Entra ID authentication)
- **Project Documentation**: The more comprehensive your project documentation (beyond README.md), the richer and more accurate your generated PMBOK documents will be

## What Makes This Different?

The Requirements Gathering Agent stands out by providing:

🏆 **Complete Technical Design System** - Enterprise-grade technical documentation suite with 10 specialized processors for architecture, system design, database schema, API documentation, security design, and more

� **AI-Powered Technical Intelligence** - Each technical document type uses specialized AI prompts for intelligent, context-aware content generation tailored to specific technical domains

📋 **Professional Technical Templates** - Comprehensive, enterprise-ready markdown templates with executive summaries, detailed specifications, implementation guidelines, and best practices

�🔍 **Comprehensive Project Analysis** - Unlike tools that only read README files, we analyze your ENTIRE project documentation ecosystem

🧠 **Enhanced Context Manager** - Revolutionary 3-phase context strategy providing 25-75x more context to AI models for dramatically better documentation

📊 **Intelligent Source Discovery** - Automatically finds and analyzes stakeholder documents, architecture specs, requirements files, and more

🚀 **Large Context Model Optimization** - Up to 90% context utilization for models like Gemini 1.5 Pro (2M tokens), ensuring maximum accuracy

🎯 **PMBOK-Specific Intelligence** - Scores documentation relevance specifically for project management and PMBOK compliance

✅ **End-to-End Validation** - Not just generation, but comprehensive PMBOK 7.0 compliance validation with actionable recommendations

🏗️ **Enterprise-Ready** - Professional directory structure, multiple AI providers, robust error handling, and CI/CD support

🔧 **Model-Aware Performance** - Automatically detects your AI model's capabilities and optimizes context strategy accordingly

⚡ **Full CLI Integration** - Complete command-line accessibility for all document types with individual and batch generation options

## License

MIT License - see [LICENSE](LICENSE) file for details.

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## Support

- 📖 [Documentation](https://github.com/mdresch/requirements-gathering-agent)
- 🐛 [Issues](https://github.com/mdresch/requirements-gathering-agent/issues)
- 💬 [Discussions](https://github.com/mdresch/requirements-gathering-agent/discussions)

---

**Built with ❤️ by [Menno Drescher] (https://exceptional-cba-project.webflow.io/) using Azure OpenAI**

## 🟡 Outstanding/Recent Issues & Fixes

### Issue: Zero Tokens in Context for Some Documents
- **Symptom:** Some generated documents (e.g., user-personas) showed `Final context: 0 tokens`.
- **Root Cause:** The Enhanced Context Manager was not being populated with the discovered markdown files from project analysis, resulting in an empty context for those documents.
- **Fix:** Added logic to ensure all discovered markdown files are added to the Enhanced Context Manager’s enriched context before document generation. Now, each document receives the full relevant context, and token counts reflect actual content.

### Issue: CLI Permission Denied (`npx rga`)
- **Symptom:** Running `npx rga` resulted in `Permission denied`.
- **Root Cause:** The CLI binary was not executable or not properly linked after build.
- **Fix:** Ensured the CLI is built (`npm run build`), has executable permissions (`chmod +x dist/cli.js`), and is correctly linked in the npm bin directory. Also, documented alternative run commands (`npm start`, `node dist/cli.js`).

### Issue: Enhanced Context Not Utilized for Large Models
- **Symptom:** Large language models (e.g., Gemini 1.5 Pro) were not utilizing their full context window.
- **Root Cause:** The context manager was not auto-detecting model capabilities or was too conservative in context allocation.
- **Fix:** Improved model detection and context allocation logic. Now, up to 90% of available tokens are used for ultra-large models, maximizing documentation accuracy.

---

## 🔧 Suggestions for Further Improvement

The Requirements Gathering Agent is robust and production-ready, but here are some areas for future enhancement—especially in the project analysis and context-building system:

- **Direct Context Injection:**  
  Add a function to directly inject all high-relevance markdown files into the Enhanced Context Manager’s enriched context, not just the combined context string. This will further improve per-document context building and accuracy for large LLMs.

- **Async Parallelization:**  
  For very large projects, consider parallelizing directory scans to speed up project analysis and markdown discovery.

- **Configurable Limits:**  
  Allow configuration of the maximum number of files and maximum content length included in the context via CLI options or environment variables, giving users more control over context size and performance.

- **Custom Directory Patterns:**  
  Enable users to specify additional directories or filename patterns to include or exclude in the analysis, making the tool even more flexible for diverse project structures.

- **Context Utilization Feedback:**  
  Provide real-time feedback or warnings if the context is being truncated due to token limits, and suggest ways to optimize context inclusion.


## 🧠 Enhanced llmProcessor.ts Improvements

⚡ Suggestions for Further Improvement
Async context population: For very large projects, consider parallelizing context injection for speed.
User-configurable context strategies: Allow users to tune context allocation via CLI or config.
Context pruning: Implement smarter pruning for extremely large projects to avoid token overflow.
More granular metrics: Track per-document context utilization and generation times.

Improvmenets contextManager.ts 
💡 Possible Improvements
AI-Powered Summarization:
Replace the fallback truncation in summarizeText with an actual LLM-powered summary for more meaningful context reduction.

Dynamic Context Mapping:
Allow the contextMap to be extended/configured at runtime or via project analysis, so relationships can be tailored to each project.

Async Context Assembly:
For very large projects, parallelize context fetching and summarization for speed.

Context Utilization Metrics:
Add methods to report how much of the available context window is used per document, and warn if context is being heavily truncated.

Context Pruning/Ranking:
Implement smarter selection of enriched context (e.g., based on relevance scores or recency) when there are too many sources to fit.

User-Configurable Token Limits:
Allow users to override maxContextTokens via CLI or config for advanced tuning.

Support for Additional Context Types:
Add support for images, diagrams, or other non-markdown sources as context (with appropriate conversion).

💡 Possible Improvements
AI-Powered Summarization:
Replace the fallback truncation in summarizeText with an actual LLM-powered summary for more meaningful context reduction.

Dynamic Context Mapping:
Allow the contextMap to be extended/configured at runtime or via project analysis, so relationships can be tailored to each project.

Async Context Assembly:
For very large projects, parallelize context fetching and summarization for speed.

Context Utilization Metrics:
Add methods to report how much of the available context window is used per document, and warn if context is being heavily truncated.

Context Pruning/Ranking:
Implement smarter selection of enriched context (e.g., based on relevance scores or recency) when there are too many sources to fit.

User-Configurable Token Limits:
Allow users to override maxContextTokens via CLI or config for advanced tuning.

Support for Additional Context Types:
Add support for images, diagrams, or other non-markdown sources as context (with appropriate conversion).

---

*Have an idea or want to contribute? Open an issue or pull request on GitHub!*


=== PROJECT METADATA ===
Name: requirements-gathering-agent
Description: 🎉 AI-powered PMBOK documentation generator - celebrating 175 weekly downloads milestone! Generates comprehensive project management documents from README context
Version: 2.1.3-prerelease
Dependencies: @azure-rest/ai-inference, @azure/identity, @azure/openai, @google/generative-ai, @types/node-fetch, dotenv, node-fetch, openai, requirements-gathering-agent, ts-node
Dev Dependencies: @jest/globals, @types/glob, @types/jest, @types/node, ajv, jest, rimraf, ts-jest, typescript
Available Scripts: build, start, dev, clean, test, test:providers, test:performance, test:azure, test:github, test:ollama, test:failover, test:unit, prepublishOnly

=== 02_REQUIREMENTS_MANAGEMENT_PLAN.MD (planning) ===
Path: Gitbook\PMBOK_Documents\Planning\02_Requirements_Management_Plan.md
Relevance Score: 100

# AI-Generated Requirements Management Plan

Certainly! Below is a detailed analysis of the **Requirements Gathering Agent** project requirements, covering **functional requirements**, **non-functional requirements**, **constraints**, and **acceptance criteria**, based on the provided project charter and related documents.

---

# Requirements Analysis for Requirements Gathering Agent Project

---

## 1. Functional Requirements (What the system must do)

Derived primarily from the High-Level Requirements, Project Objectives, and Project Scope:

| Req. ID | Description                                                                                                    | Priority   |
|---------|----------------------------------------------------------------------------------------------------------------|------------|
| FR-1    | Automatically generate PMBOK-compliant project charters from input data.                                       | High       |
| FR-2    | Produce additional PMBOK-compliant documents: stakeholder registers, scope management plans, risk management plans, work breakdown structures, and compliance documentation. | High       |
| FR-3    | Integrate with Azure AI inference APIs securely using managed identities (Azure Identity SDK).                 | High       |
| FR-4    | Output all generated documents strictly in validated JSON format to ensure interoperability.                  | High       |
| FR-5    | Provide a Command-Line Interface (CLI) for users to invoke the module and manage configurations.               | High       |
| FR-6    | Perform schema validation on generated outputs to ensure data integrity and PMBOK compliance.                  | High       |
| FR-7    | Support a modular architecture to allow future extensions and integration with third-party project management tools. | Medium     |
| FR-8    | Provide user documentation, tutorials, and training materials for onboarding and ongoing support.             | Medium     |
| F
... [truncated]

=== ARCHITECTURE.MD (development) ===
Path: docs\ARCHITECTURE.md
Relevance Score: 95

# Requirements Gathering Agent - Architecture Documentation

## Overview

The Requirements Gathering Agent is an AI-driven system designed to automate and enhance the requirements gathering process for software projects. It leverages multiple AI providers and context management techniques to generate comprehensive project documentation, user stories, and strategic planning artifacts.

## System Architecture

### Core Components

#### 1. Context Management System
- **Context Manager**: Central component for managing project context and AI interactions
- **Provider Abstraction**: Support for multiple AI providers (OpenAI, Google AI, GitHub Copilot, Ollama)
- **Context Injection**: Direct context injection capabilities for efficient AI processing

#### 2. AI Provider Integration
- **Multi-Provider Support**: Flexible architecture supporting various AI services
- **Provider Synchronization**: Coordinated AI provider management
- **Fallback Mechanisms**: Robust handling of provider failures

#### 3. Document Generation Engine
- **Template-Based Generation**: Structured document creation using predefined templates
- **PMBOK Compliance**: Project management artifacts following PMBOK guidelines
- **Automated Workflows**: End-to-end document generation pipelines

#### 4. CLI Interface
- **Command-Line Tools**: `cli.ts` and `cli-main.ts` for system interaction
- **Batch Processing**: Support for bulk document generation
- **Configuration Management**: Flexible configuration options

### Technology Stack

#### Core Technologies
- **TypeScript**: Primary development language for type safety and maintainability
- **Node.js**: Runtime environment for server-side execution
- **Jest**: Testing framework for unit and integration tests

#### AI Integration
- **OpenAI API**: GPT models for text generation and analysis
- **Google AI**: Gemini models for alternative AI processing
- **GitHub Copilot**: Code generation and assistance
- **Ollama**: 
... [truncated]

=== IMPLEMENTATION-GUIDE-PROVIDER-CHOICE-MENU.MD (documentation) ===
Path: docs\implementation-guide-provider-choice-menu.md
Relevance Score: 95

# Interactive AI Provider Selection Menu - Implementation Guide

**Document Version:** 1.0  
**Created:** December 2024  
**Last Updated:** December 2024  
**Target Audience:** Developers, Technical Leads, Product Managers  

---

## 📋 Table of Contents

1. [Overview](#overview)
2. [Current System Analysis](#current-system-analysis)
3. [Implementation Strategy](#implementation-strategy)
4. [Interactive Choice Menu Design](#interactive-choice-menu-design)
5. [Code Implementation](#code-implementation)
6. [Integration with Existing System](#integration-with-existing-system)
7. [User Experience Flow](#user-experience-flow)
8. [Error Handling & Validation](#error-handling--validation)
9. [Testing Strategy](#testing-strategy)
10. [Migration Guide](#migration-guide)
11. [Best Practices](#best-practices)
12. [Troubleshooting](#troubleshooting)

---

## 📖 Overview

This guide provides comprehensive documentation for implementing an interactive choice menu that allows users to select an AI provider before running the Requirements Gathering Agent. The feature enhances user experience by providing a visual selection interface instead of requiring manual environment configuration.

### 🎯 Objectives

- **Simplify Provider Selection**: Replace manual `.env` configuration with an interactive menu
- **Improve User Experience**: Provide clear provider options with descriptions and setup guidance
- **Maintain Existing Functionality**: Preserve current provider detection and fallback mechanisms
- **Enable Dynamic Switching**: Allow users to change providers without restarting the application

### 🔧 Key Features

- Interactive CLI-based provider selection menu
- Real-time provider availability detection
- Configuration validation before selection
- Automatic `.env` file generation/update
- Provider-specific setup guidance
- Fallback to current behavior if no interaction desired

---

## 🔍 Current System Analysis

### Existing Provi
... [truncated]

=== ARCHITECTURE.MD (development) ===
Path: docs\ARCHITECTURE.md
Relevance Score: 95

# Requirements Gathering Agent - Architecture Documentation

## Overview

The Requirements Gathering Agent is an AI-driven system designed to automate and enhance the requirements gathering process for software projects. It leverages multiple AI providers and context management techniques to generate comprehensive project documentation, user stories, and strategic planning artifacts.

## System Architecture

### Core Components

#### 1. Context Management System
- **Context Manager**: Central component for managing project context and AI interactions
- **Provider Abstraction**: Support for multiple AI providers (OpenAI, Google AI, GitHub Copilot, Ollama)
- **Context Injection**: Direct context injection capabilities for efficient AI processing

#### 2. AI Provider Integration
- **Multi-Provider Support**: Flexible architecture supporting various AI services
- **Provider Synchronization**: Coordinated AI provider management
- **Fallback Mechanisms**: Robust handling of provider failures

#### 3. Document Generation Engine
- **Template-Based Generation**: Structured document creation using predefined templates
- **PMBOK Compliance**: Project management artifacts following PMBOK guidelines
- **Automated Workflows**: End-to-end document generation pipelines

#### 4. CLI Interface
- **Command-Line Tools**: `cli.ts` and `cli-main.ts` for system interaction
- **Batch Processing**: Support for bulk document generation
- **Configuration Management**: Flexible configuration options

### Technology Stack

#### Core Technologies
- **TypeScript**: Primary development language for type safety and maintainability
- **Node.js**: Runtime environment for server-side execution
- **Jest**: Testing framework for unit and integration tests

#### AI Integration
- **OpenAI API**: GPT models for text generation and analysis
- **Google AI**: Gemini models for alternative AI processing
- **GitHub Copilot**: Code generation and assistance
- **Ollama**: 
... [truncated]

=== IMPLEMENTATION-GUIDE-PROVIDER-CHOICE-MENU.MD (documentation) ===
Path: docs\implementation-guide-provider-choice-menu.md
Relevance Score: 95

# Interactive AI Provider Selection Menu - Implementation Guide

**Document Version:** 1.0  
**Created:** December 2024  
**Last Updated:** December 2024  
**Target Audience:** Developers, Technical Leads, Product Managers  

---

## 📋 Table of Contents

1. [Overview](#overview)
2. [Current System Analysis](#current-system-analysis)
3. [Implementation Strategy](#implementation-strategy)
4. [Interactive Choice Menu Design](#interactive-choice-menu-design)
5. [Code Implementation](#code-implementation)
6. [Integration with Existing System](#integration-with-existing-system)
7. [User Experience Flow](#user-experience-flow)
8. [Error Handling & Validation](#error-handling--validation)
9. [Testing Strategy](#testing-strategy)
10. [Migration Guide](#migration-guide)
11. [Best Practices](#best-practices)
12. [Troubleshooting](#troubleshooting)

---

## 📖 Overview

This guide provides comprehensive documentation for implementing an interactive choice menu that allows users to select an AI provider before running the Requirements Gathering Agent. The feature enhances user experience by providing a visual selection interface instead of requiring manual environment configuration.

### 🎯 Objectives

- **Simplify Provider Selection**: Replace manual `.env` configuration with an interactive menu
- **Improve User Experience**: Provide clear provider options with descriptions and setup guidance
- **Maintain Existing Functionality**: Preserve current provider detection and fallback mechanisms
- **Enable Dynamic Switching**: Allow users to change providers without restarting the application

### 🔧 Key Features

- Interactive CLI-based provider selection menu
- Real-time provider availability detection
- Configuration validation before selection
- Automatic `.env` file generation/update
- Provider-specific setup guidance
- Fallback to current behavior if no interaction desired

---

## 🔍 Current System Analysis

### Existing Provi
... [truncated]

=== 01_SCOPE_MANAGEMENT_PLAN.MD (planning) ===
Path: Gitbook\PMBOK_Documents\Planning\01_Scope_Management_Plan.md
Relevance Score: 92

# AI-Generated Scope Management Plan

Certainly! Below is a detailed **Scope Management Plan** for the **Requirements Gathering Agent** project, structured per PMBOK standards and aligned with the project charter and related inputs you provided.

---

# Scope Management Plan  
## Project: Requirements Gathering Agent

---

## 1. Introduction

This Scope Management Plan defines how the project scope will be defined, developed, validated, and controlled throughout the lifecycle of the Requirements Gathering Agent project. Its purpose is to ensure that all project work and only the work required to complete the project successfully is included, ensuring alignment with the PMBOK standards, stakeholder expectations, and organizational policies.

---

## 2. Scope Management Approach

The project scope will be managed through a formal process involving requirements gathering, scope definition, Work Breakdown Structure (WBS) development, scope validation with stakeholders, and ongoing scope control. The plan will leverage iterative stakeholder engagement and formal documentation to manage scope creep and ensure traceability.

---

## 3. Scope Definition Process

### 3.1 Inputs

- Project Charter (defines high-level scope, objectives, and constraints)
- Stakeholder Register (identifies needs and expectations)
- Requirements Documentation (detailed functional and non-functional requirements)
- Organizational Process Assets (templates, lessons learned)
- Enterprise Environmental Factors (industry standards, regulatory requirements)

### 3.2 Activities

- Conduct detailed requirements elicitation workshops with key stakeholders (e.g., Project Managers, Business Analysts, Compliance Officers).
- Analyze and document detailed project deliverables, features, and boundaries.
- Identify and document in-scope and out-of-scope items explicitly to prevent ambiguity.
- Define acceptance criteria for project deliverables aligned with PMBOK compliance.

### 3.3 Outputs

- Detailed Project
... [truncated]

=== CHANGELOG.MD (documentation) ===
Path: docs\CHANGELOG.md
Relevance Score: 86

# Requirements Gathering Agent - Change Log

## Version History

### Latest Changes (Current Development)

#### Features Added
- **Multi-Provider AI Integration**: Enhanced support for OpenAI, Google AI, GitHub Copilot, and Ollama
- **Context Management System**: Improved context injection and management capabilities
- **Document Generation Engine**: Automated generation of project documentation and artifacts
- **Strategic Planning Tools**: Mission, vision, and strategic statement generation
- **PMBOK Compliance**: Project management artifacts following industry standards
- **Prerelease Version**: Published version `2.1.3-prerelease` to npm for testing and feedback.

#### Improvements
- **CLI Interface**: Enhanced command-line tools for better user experience
- **Error Handling**: Improved error management and recovery mechanisms
- **Performance Optimization**: Better resource utilization and API efficiency
- **Code Quality**: Enhanced TypeScript typing and ESLint configuration
- **Documentation**: Updated the `STEPS-TO-IMPLEMENT-NEW-DOCS.md` guide with recommendations for clarity, testing, validation, and best practices.
- **Testing**: Expanded test coverage for new document types and improved integration tests.
- **CLI**: Enhanced CLI support for new document categories and improved user experience.

#### Bug Fixes
- **Provider Synchronization**: Fixed issues with AI provider coordination
- **Context Validation**: Resolved context processing edge cases
- **File Generation**: Corrected document output formatting issues
- **Configuration Handling**: Fixed environment variable processing
- **Document Validation**: Resolved issues related to document validation and file access.

### Recent Development Milestones

#### Milestone 175 - Downloads and Distribution
- **Package Management**: Improved npm package configuration
- **Distribution Files**: Enhanced build and distribution process
- **Documentation**: Comprehensive project docume
... [truncated]

=== 03_PROJECT_SCOPE_STATEMENT.MD (planning) ===
Path: Gitbook\PMBOK_Documents\Planning\03_Project_Scope_Statement.md
Relevance Score: 86

# AI-Generated Project Scope Statement

# Business Case Analysis for the Requirements Gathering Agent Project

---

## Executive Summary

The **Requirements Gathering Agent** project aims to deliver an AI-augmented, Node.js/TypeScript CLI tool that automates the creation of PMBOK-compliant project management documentation. Leveraging Azure AI, it promises significant time savings, improved accuracy, compliance assurance, and better stakeholder alignment. This business case evaluates the financial viability, market potential, and strategic justification to support investment and prioritization.

---

## 1. Problem Statement

Project documentation creation is traditionally manual, time-consuming, error-prone, and often inconsistent across teams and projects. This leads to delays, compliance risks, and misaligned stakeholder expectations, impacting project success rates and increasing administrative overhead.

---

## 2. Proposed Solution

The Requirements Gathering Agent automates document generation with AI assistance, producing standardized, PMBOK-compliant artifacts (e.g., project charters, stakeholder registers, risk plans) in strict JSON format for seamless tool integration. By embedding best practices and compliance checks, it reduces manual effort and enforces governance.

---

## 3. Market Analysis

### 3.1 Target Market

- **Primary:** Medium to large organizations with established PMOs and software development teams requiring standardized project management processes.
- **Secondary:** Consulting firms, regulatory bodies, and vendors who rely on formal project documentation.

### 3.2 Market Needs

- Automation of repetitive PM documentation tasks.
- Compliance with PMBOK and regulatory standards.
- Integration with existing PM tools and workflows.
- Enhanced strategic planning and risk management via AI insights.

### 3.3 Competitive Landscape

- Existing tools mainly offer template-based document generation or manual PM software.
- Few solutions leverage AI 
... [truncated]

=== CHANGELOG.MD (documentation) ===
Path: docs\CHANGELOG.md
Relevance Score: 86

# Requirements Gathering Agent - Change Log

## Version History

### Latest Changes (Current Development)

#### Features Added
- **Multi-Provider AI Integration**: Enhanced support for OpenAI, Google AI, GitHub Copilot, and Ollama
- **Context Management System**: Improved context injection and management capabilities
- **Document Generation Engine**: Automated generation of project documentation and artifacts
- **Strategic Planning Tools**: Mission, vision, and strategic statement generation
- **PMBOK Compliance**: Project management artifacts following industry standards
- **Prerelease Version**: Published version `2.1.3-prerelease` to npm for testing and feedback.

#### Improvements
- **CLI Interface**: Enhanced command-line tools for better user experience
- **Error Handling**: Improved error management and recovery mechanisms
- **Performance Optimization**: Better resource utilization and API efficiency
- **Code Quality**: Enhanced TypeScript typing and ESLint configuration
- **Documentation**: Updated the `STEPS-TO-IMPLEMENT-NEW-DOCS.md` guide with recommendations for clarity, testing, validation, and best practices.
- **Testing**: Expanded test coverage for new document types and improved integration tests.
- **CLI**: Enhanced CLI support for new document categories and improved user experience.

#### Bug Fixes
- **Provider Synchronization**: Fixed issues with AI provider coordination
- **Context Validation**: Resolved context processing edge cases
- **File Generation**: Corrected document output formatting issues
- **Configuration Handling**: Fixed environment variable processing
- **Document Validation**: Resolved issues related to document validation and file access.

### Recent Development Milestones

#### Milestone 175 - Downloads and Distribution
- **Package Management**: Improved npm package configuration
- **Distribution Files**: Enhanced build and distribution process
- **Documentation**: Comprehensive project docume
... [truncated]

=== 01_PROJECT_CONTEXT_FROM_README.MD (planning) ===
Path: Gitbook\requirements\01_project_context_from_readme.md
Relevance Score: 80

# Project Context from README.md

# Requirements Gathering Agent

A comprehensive Node.js/TypeScript module for automated project management documentation generation using Azure AI. This tool generates complete PMBOK-aligned project documentation, including strategic sections, requirements, and comprehensive project management plans for any software project.

## Features

### Strategic Planning
- Project vision, mission, core values, and purpose statements
- User roles, needs, and processes identification
- Technology stack analysis and recommendations

### PMBOK-Aligned Documentation Generation
This tool can generate comprehensive project management documentation following the Project Management Body of Knowledge (PMBOK) framework:

#### Initiating Process Group
- **Project Charter**: Complete project authorization document
- **Stakeholder Register**: Comprehensive stakeholder identification and analysis

#### Planning Process Group
- **Scope Management Plan**: Project scope definition and control procedures
- **Requirements Management Plan**: Requirements collection, analysis, and traceability
- **Schedule Management Plan**: Time management and scheduling approach
- **Cost Management Plan**: Budget planning and cost control procedures
- **Quality Management Plan**: Quality assurance and control processes
- **Resource Management Plan**: Human and material resource planning
- **Communications Management Plan**: Stakeholder communication strategy
- **Risk Management Plan**: Risk identification, analysis, and response planning
- **Procurement Management Plan**: Vendor and contract management approach
- **Stakeholder Engagement Plan**: Stakeholder engagement strategies

#### Detailed Planning Artifacts
- **Work Breakdown Structure (WBS)**: Hierarchical project decomposition
- **WBS Dictionary**: Detailed work package descriptions
- **Activity List**: Comprehensive project activities
- **Activity Duration Estimates**: Time estimation fo
... [truncated]



### Document Information
- **Project:** === PROJECT README ===
# ADPA - Automated Documentation Project Assistant

*Formerly: Requirements Gathering Agent*

[![npm version](https://badge.fury.io/js/requirements-gathering-agent.svg)](https://badge.fury.io/js/requirements-gathering-agent)
[![npm downloads](https://img.shields.io/npm/dm/requirements-gathering-agent.svg)](https://www.npmjs.com/package/requirements-gathering-agent)
[![license](https://img.shields.io/npm/l/requirements-gathering-agent.svg)](https://github.com/your-username/requirements-gathering-agent/blob/main/LICENSE)

---

## 🎉 MILESTONE ACHIEVED: 175 Weekly Downloads! 

**We're celebrating a major milestone - 175 weekly downloads on NPM!** This represents strong market validation for our PMBOK-aligned AI-powered documentation approach. Thank you to our growing community of project managers and business analysts who are transforming their documentation workflows! 🚀

**[📊 View Full Milestone Report →](MILESTONE-175-DOWNLOADS.md)**

---

## 🏆 BREAKTHROUGH: AI-Powered Strategic Business Inception

**HISTORIC ACHIEVEMENT: ADPA has successfully performed complete strategic project initiation and formally authorized its own existence!**

### 🎯 Context Foundation Strategy Complete

Through our revolutionary **"Context Foundation"** approach, ADPA has demonstrated unprecedented AI-powered business intelligence by:

- ✅ **Generated Strategic Justification** → [`BusinessCase.md`](generated-documents/core-analysis/business-case.md) - Complete ROI analysis and strategic rationale
- ✅ **Mapped Stakeholder Ecosystem** → [`StakeholderRegister.md`](generated-documents/stakeholder-management/stakeholder-register.md) - Intelligent stakeholder identification and engagement planning  
- ✅ **Defined Project Boundaries** → [`ProjectScopeStatement.md`](generated-documents/scope-management/project-scope-statement.md) - Precise scope definition with clear in/out boundaries
- ✅ **Assessed Strategic Risks** → [`RiskRegister.md`](generated-documents/risk-management/risk-register.md) - Comprehensive risk analysis with mitigation strategies
- ✅ **Issued Executive Authorization** → [`ProjectCharter.md`](generated-documents/project-charter.md) - **FORMAL PROJECT CHARTER WITH FULL ORGANIZATIONAL AUTHORITY**

### 🚀 The World's First AI-Powered Strategic Business Inception Engine

ADPA has evolved from a documentation generator to the **definitive AI-powered Strategic Business Inception Engine**, capable of:

- **📋 Complete Project Lifecycle Initiation** - From business case to formal charter authorization
- **🧠 Cross-Document Intelligence** - Synthesizes insights across multiple foundational documents  
- **👔 Executive-Grade Output** - Board-presentation ready strategic documents
- **⚖️ PMBOK 7.0 Compliance** - Full adherence to project management best practices
- **🎯 Self-Actualization** - ADPA literally authorized its own project existence through AI synthesis

**This represents a paradigm shift from "document generation" to "strategic business intelligence."**

**[🎯 View Complete Strategic Foundation →](generated-documents/)**

---

## 🏆 LATEST ACHIEVEMENT: Technical Design Document System

**MISSION COMPLETE: ADPA has successfully implemented a comprehensive Technical Design Document Generation System!**

### 🚀 Technical Design System Victory

ADPA now features a complete **AI-Powered Technical Design Documentation Suite** with enterprise-grade capabilities:

- **✅ 10 Specialized Technical Document Processors** - Each with dedicated AI prompts for intelligent content generation
- **✅ Comprehensive Professional Templates** - Enterprise-ready markdown structures with context-aware content
- **✅ Full CLI Integration** - Complete command-line accessibility and discoverability
- **✅ Modular Architecture** - Extensible processor-based system for future expansion
- **✅ Validation Framework** - Built-in quality assurance and error handling
- **✅ Context-Aware Generation** - Documents adapt to specific project contexts and requirements

### 🔧 Technical Document Types Implemented

1. **Architecture Design** - System architecture, components, and structural patterns
2. **System Design** - Detailed system specifications and design decisions
3. **Database Schema** - Data modeling, relationships, and database structure
4. **API Documentation** - RESTful API specifications and integration guides
5. **Security Design** - Security architecture, protocols, and compliance frameworks
6. **Performance Requirements** - Performance specifications, benchmarks, and SLAs
7. **Integration Design** - System integration patterns and data flow documentation
8. **Technical Stack** - Technology recommendations and stack analysis
9. **Deployment Architecture** - Infrastructure design and deployment strategies
10. **Error Handling** - Error patterns, recovery procedures, and logging strategies

### 🎯 Key Technical Achievements

- **Specialized AI Prompts**: Each processor uses document-specific AI instructions for optimal content generation
- **Professional Templates**: Comprehensive markdown structures with executive summaries, technical specifications, and implementation guidelines
- **Context Integration**: All documents leverage project context for personalized, relevant content
- **CLI Commands**: Full integration with `--generate-technical` and individual document generation commands
- **Quality Assurance**: Built-in validation, error handling, and output verification
- **Enterprise-Ready**: Production-quality code with TypeScript, comprehensive testing, and modular design

### 🚀 Usage Examples

```bash
# Generate all technical design documents
requirements-gathering-agent --generate-technical

# Generate specific technical documents
requirements-gathering-agent --generate architecturedesign
requirements-gathering-agent --generate apidocumentation
requirements-gathering-agent --generate securitydesign
```

**The Technical Design Document System represents a major evolution in ADPA's capabilities, providing enterprise-grade technical documentation with AI-powered intelligence and professional quality output.**

**[🏆 View Complete Victory Report →](ADPA-QA-ENGINE-VICTORY-REPORT.md)**

---

## 🚀 NEW: Business Communication Translator System

**ADPA (Automated Documentation Project Assistant)** has evolved beyond simple documentation generation - we're now a sophisticated **Business Communication Translator** that transforms technical project context into strategic business documents!

### 🎯 Recent Breakthroughs

- **✨ Strategic Document Generation**: Successfully generates professional Company Values, Purpose Statements, and other executive-ready strategic documents
- **🧠 Deep Context Understanding**: Advanced AI analysis that understands project essence and translates it into authentic corporate communications
- **🔄 Meta-Capability "Dogfooding"**: ADPA can now generate its own strategic artifacts from its own project context - the ultimate validation!
- **📈 Professional Quality Output**: Executive-ready documents indistinguishable from professionally crafted corporate materials
- **🎨 Intelligent Expansion**: System adds value beyond templates by including relevant sections like "Living Our Values" and actionable behavioral examples

### 🏆 Success Metrics
- ✅ **Authenticity**: Generated values genuinely reflect real project missions and capabilities
- ✅ **Intelligence**: System infers implicit concepts and expands appropriately on technical details
- ✅ **Professional Grade**: Output ready for executive presentations and corporate websites
- ✅ **Context-Adaptive**: Templates are generic and instructional, not hardcoded to specific projects

**[🎯 View Generated Strategic Documents →](generated-documents/strategic-statements/)**

---

🚀 **AI-powered PMBOK documentation generator using Azure OpenAI**

Transform your project's README into comprehensive project management documentation following PMBOK (Project Management Body of Knowledge) standards.

## Features

✅ **🏆 TECHNICAL DESIGN DOCUMENT SYSTEM** - Complete AI-powered technical design documentation suite (NEW!)  
✅ **🔧 10 Technical Document Processors** - Architecture, System Design, Database Schema, API Documentation, Security Design, Performance Requirements, Integration Design, Technical Stack, Deployment Architecture, Error Handling  
✅ **📋 Context-Aware Technical Templates** - Professional, comprehensive markdown templates for enterprise-grade documentation  
✅ **🚀 Specialized AI Prompts** - Document-specific AI instructions for intelligent content generation  
✅ **⚡ CLI Technical Generation** - Full command-line accessibility with `--generate-technical` and individual document commands  
✅ **Business Communication Translator** - Transform technical context into strategic business documents  
✅ **Strategic Document Generation** - Company Values, Purpose Statements, and executive-ready materials  
✅ **Complete PMBOK Document Suite** - Generates 29 professional documents  
✅ **Enhanced Project Analysis** - Discovers and analyzes ALL markdown files beyond README.md  
✅ **Intelligent Context Building** - Scores and prioritizes documentation sources (0-100 relevance)  
✅ **Deep Context Understanding** - Advanced AI that understands project essence and translates authentically  
✅ **Comprehensive Source Discovery** - Finds stakeholder docs, architecture files, requirements, and more  
✅ **PMBOK 7.0 Compliance Validation** - Validates documents against PMBOK standards  
✅ **Cross-Document Consistency** - Ensures consistency across all generated documents  
✅ **Document Quality Assessment** - Provides detailed quality scores and recommendations  
✅ **Azure OpenAI Integration** - Powered by GPT-4 with Entra ID authentication  
✅ **Organized Output** - Professional categorized directory structure  
✅ **Multiple AI Providers** - Azure OpenAI, GitHub AI, Ollama support  
✅ **Enhanced Context Manager** - Intelligent 3-phase context strategy for large language models  
✅ **Large Context Model Support** - Up to 90% context utilization for models like Gemini 1.5 Pro (2M tokens)  
✅ **Enterprise Ready** - Robust error handling and retry logic  
✅ **TypeScript** - Modern, type-safe implementation

## Quick Start

### Installation

```bash
# Install globally
npm install -g requirements-gathering-agent

# Or run directly with npx
npx requirements-gathering-agent
```

### Basic Usage

```bash
# Generate all PMBOK documents
requirements-gathering-agent

### � Technical Design Document Generation (NEW!)
# Generate all technical design documents
requirements-gathering-agent --generate-technical

# Generate specific technical design documents
requirements-gathering-agent --generate architecturedesign
requirements-gathering-agent --generate systemdesign
requirements-gathering-agent --generate databaseschema
requirements-gathering-agent --generate apidocumentation
requirements-gathering-agent --generate securitydesign
requirements-gathering-agent --generate performancerequirements
requirements-gathering-agent --generate integrationdesign
requirements-gathering-agent --generate technicalstack
requirements-gathering-agent --generate deploymentarchitecture
requirements-gathering-agent --generate errorhandling

### �🎯 Strategic Document Generation
# Generate executive-ready strategic documents
requirements-gathering-agent --generate purpose-statement
requirements-gathering-agent --generate company-values

### 📋 PMBOK Document Generation
# Generate all documents with PMBOK 7.0 validation
requirements-gathering-agent --validate-pmbok

# Generate with comprehensive validation and quality assessment
requirements-gathering-agent --generate-with-validation

# Generate core documents only
requirements-gathering-agent --core-only

# Generate stakeholder documents only
requirements-gathering-agent --generate-stakeholder

# Generate with retry logic
requirements-gathering-agent --with-retry

# Validate existing documents against PMBOK standards
requirements-gathering-agent --validate-only
```

## 🔍 Enhanced Project Analysis

The Requirements Gathering Agent now features **comprehensive project analysis** that goes far beyond just reading your README.md file. It intelligently discovers and analyzes ALL relevant documentation in your project to build the richest possible context for generating PMBOK documents.

### Intelligent Source Discovery

The enhanced analyzer automatically discovers and processes:

- **📋 Requirements Documents** (`requirements/`, `specs/`, `specifications/`)
- **🏗️ Architecture Documentation** (`docs/architecture.md`, `design/`)
- **👥 Stakeholder Information** (`stakeholders.md`, `requirements/stakeholders.md`)
- **📋 Planning Documents** (`planning/`, `roadmap.md`, `scope.md`)
- **⚙️ Technical Documentation** (`docs/`, `wiki/`, `.github/`)
- **🔄 Project Metadata** (`package.json`, project configuration files)

### Smart Relevance Scoring

Each discovered file is analyzed and scored (0-100) based on:

- **📝 Content Relevance** - PMBOK terminology and project management concepts
- **📁 File Location** - Strategic placement in documentation directories  
- **🏷️ Naming Patterns** - High-value keywords (requirements, architecture, stakeholders)
- **📏 Content Structure** - Well-organized documents with headers and sections
- **📊 Content Depth** - Substantial, meaningful documentation

### Automatic Categorization

Files are intelligently categorized as:
- **🔵 Primary** - Core project documentation (overview, introduction, setup)
- **🟢 Planning** - Requirements, roadmaps, scope, planning documents
- **🟡 Development** - Architecture, APIs, technical specifications
- **🟠 Documentation** - User guides, tutorials, general documentation  
- **⚪ Other** - Supporting documentation

### Enhanced Context Building

The system builds comprehensive project context by:
- **🎯 Prioritizing** high-scoring, relevant documentation sources
- **📋 Integrating** content from multiple markdown files beyond README.md
- **⚖️ Balancing** context size to avoid token overflow while maximizing information
- **💡 Suggesting** the most valuable source files for manual review

### Example Analysis Output

```bash
🔍 Performing comprehensive project analysis...
✅ Found 12 additional markdown files
📋 Found 12 additional relevant files:
   • stakeholder-requirements.md (planning, score: 89)
   • architecture-overview.md (development, score: 76)
   • project-scope.md (planning, score: 71)
   • api-documentation.md (development, score: 65)
   • user-guide.md (documentation, score: 58)
💡 High-value sources identified: stakeholder-requirements.md, architecture-overview.md, project-scope.md
```

This enhanced analysis ensures that **all relevant project information** is discovered and incorporated into your PMBOK documents, resulting in more accurate, comprehensive, and stakeholder-specific documentation.

## 🧠 Enhanced Context Manager

The Requirements Gathering Agent features an **Enhanced Context Manager** that dramatically improves documentation quality by providing comprehensive context to large language models. This intelligent system adapts to your AI model's capabilities to deliver the best possible results.

### 🚀 Key Performance Improvements

- **25-75x Context Improvement**: From 0.66% to 20-50% context utilization
- **Large Model Optimization**: Up to 90% context utilization for models like Gemini 1.5 Pro
- **Intelligent Adaptation**: Automatically detects and optimizes for your AI model's capabilities
- **Comprehensive Project Understanding**: Provides full project context for accurate documentation

### 🔧 3-Phase Context Strategy

The Enhanced Context Manager implements an intelligent 3-phase approach:

#### Phase 1: Core Context
- **Direct Relationships**: All directly related content with smart prioritization
- **Relationship Scoring**: Context prioritized by relationship count and relevance
- **Token Optimization**: Precise token estimation and allocation

#### Phase 2: Ultra-Large Model Support (>200k tokens)
- **Comprehensive Context**: For models like Gemini 1.5 Pro/Flash (1M-2M tokens)
- **Maximum Accuracy**: Includes ALL available project context when possible
- **Smart Buffer Management**: 10k token response buffer for optimal performance

#### Phase 3: Large Model Supplementary (50k-200k tokens)
- **Selective Enhancement**: Top 3 supplementary contexts for models like GPT-4, Claude
- **Balanced Approach**: Optimal context without overwhelming smaller models
- **Performance Optimization**: Intelligent caching and token management

### 📊 Model-Specific Optimization

The system automatically detects and optimizes for different AI models:

| Model | Token Limit | Context Strategy | Expected Utilization |
|-------|------------|------------------|---------------------|
| **Gemini 1.5 Pro** | 2M tokens | Ultra-large comprehensive | 20-90% |
| **Gemini 1.5 Flash** | 1M tokens | Ultra-large comprehensive | 20-90% |
| **GPT-4** | 128k tokens | Large supplementary | 15-50% |
| **Claude 3.5 Sonnet** | 200k tokens | Large supplementary | 15-50% |
| **Ollama Models** | 128k tokens | Large supplementary | 15-50% |

### 🎯 Real-World Impact

**Before Enhanced Context Manager:**
- Context utilization: ~0.66-0.80% of available tokens
- Limited project understanding
- Basic documentation generation

**After Enhanced Context Manager:**
- Context utilization: 20-90% for large models
- Comprehensive project understanding
- Dramatically more accurate and detailed documentation
- Better cross-references and consistency

### 📈 Advanced Reporting & Analytics

Get detailed insights into context performance:

```bash
# Get context utilization report
requirements-gathering-agent --context-report

# Analyze document-specific context usage
requirements-gathering-agent --analyze-context

# Performance metrics and optimization recommendations
requirements-gathering-agent --context-metrics
```

**Example Context Report:**
```
📊 Context Manager Performance Report
- Core Context Tokens: 12,450
- Enriched Context Items: 18
- Total Project Tokens: 156,890
- Model Type: Ultra-Large Context (Gemini 1.5 Pro)
- Context Utilization: 47.3% (946,800 tokens used)
- Performance: 🌟 Excellent - Making optimal use of large context capabilities
```

### Supported Project Structures

The enhanced analyzer intelligently searches common documentation patterns:

```
your-project/
├── README.md                    # Primary project documentation
├── docs/                       # General documentation
│   ├── architecture.md         # System architecture
│   ├── api.md                  # API documentation  
│   └── user-guide.md           # User guides
├── requirements/               # Requirements documentation
│   ├── stakeholders.md         # Stakeholder analysis
│   ├── functional.md           # Functional requirements
│   └── non-functional.md       # Non-functional requirements
├── specs/                      # Technical specifications
├── planning/                   # Project planning documents
│   ├── roadmap.md             # Project roadmap
│   └── scope.md               # Project scope
├── .github/                    # GitHub documentation
│   └── CONTRIBUTING.md         # Contribution guidelines
├── design/                     # Design documentation
└── wiki/                       # Wiki-style documentation
```

The analyzer automatically:
- **🔍 Searches recursively** up to 3 levels deep in each directory
- **⚡ Skips system directories** (node_modules, .git, dist, build, etc.)
- **🚫 Avoids generated content** (generated-documents, coverage, logs, etc.)
- **📊 Provides source suggestions** for the highest-value documentation files

## Configuration

Create a `.env` file with your AI provider configuration:

### Google AI Studio (Free Tier Available) - Recommended for Large Context
```bash
GOOGLE_AI_API_KEY=your-google-ai-api-key
GOOGLE_AI_MODEL=gemini-1.5-pro    # 2M tokens - Ultra-large context
# OR
GOOGLE_AI_MODEL=gemini-1.5-flash  # 1M tokens - Large context
```
Get your API key: https://makersuite.google.com/app/apikey

*Note: Gemini models provide the best context utilization with the Enhanced Context Manager, supporting up to 2M tokens for comprehensive project analysis.*

### Azure OpenAI (Recommended)
```bash
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
DEPLOYMENT_NAME=gpt-4.1-mini
USE_ENTRA_ID=true
```

### GitHub AI (Free Tier)
```bash
AZURE_AI_ENDPOINT=https://models.inference.ai.azure.com
GITHUB_TOKEN=your-github-token
REQUIREMENTS_AGENT_MODEL=gpt-4o-mini
```

### Ollama (Local)
```bash
AZURE_AI_ENDPOINT=http://localhost:11434
REQUIREMENTS_AGENT_MODEL=llama3.1
```

## Generated Documents

The tool generates a comprehensive set of documents from **technical design specifications** to **strategic business communications** to **PMBOK-compliant project artifacts**:

### � Technical Design Documents (NEW!)
- **Architecture Design** - Comprehensive system architecture documentation
- **System Design** - Detailed system design specifications and patterns
- **Database Schema** - Database structure, relationships, and data modeling
- **API Documentation** - RESTful API specifications and integration guides
- **Security Design** - Security architecture, protocols, and compliance frameworks
- **Performance Requirements** - Performance specifications, benchmarks, and SLAs
- **Integration Design** - System integration patterns and data flow documentation
- **Technical Stack** - Technology stack analysis and recommendations
- **Deployment Architecture** - Infrastructure, deployment strategies, and environments
- **Error Handling** - Error handling patterns, recovery procedures, and logging strategies

### 🎯 Strategic Statements
- **Purpose Statement** - Executive-ready organizational purpose and mission definition
- **Company Values** - Professional cultural document with actionable behavioral examples
- **Mission & Vision** - Strategic direction and aspirational goals
- *More strategic documents coming soon...*

### 📋 Core Analysis
- Project Summary and Goals
- User Stories and Requirements  
- User Personas
- Key Roles and Needs Analysis

### 📜 Project Charter
- PMBOK Project Charter

### 📊 Management Plans
- Scope Management Plan
- Risk Management Plan
- Cost Management Plan
- Quality Management Plan
- Resource Management Plan
- Communication Management Plan
- Procurement Management Plan

### 🏗️ Planning Artifacts
- Work Breakdown Structure (WBS)
- WBS Dictionary
- Activity List and Estimates
- Schedule Network Diagram
- Milestone List

### 👥 Stakeholder Management
- Stakeholder Register
- Stakeholder Engagement Plan
- Stakeholder Analysis

### ⚙️ Technical Analysis
- Technology Stack Analysis
- Data Model Suggestions
- Risk Analysis
- Acceptance Criteria
- Compliance Considerations
- UI/UX Considerations

## Output Structure

```
generated-documents/
├── README.md                     # Master index
├── technical-design/            # Technical design documents (NEW!)
│   ├── architecture-design.md   # System architecture
│   ├── system-design.md         # System design specifications
│   ├── database-schema.md       # Database structure and relationships
│   ├── api-documentation.md     # API specifications
│   ├── security-design.md       # Security architecture
│   ├── performance-requirements.md # Performance specifications
│   ├── integration-design.md    # Integration patterns
│   ├── technical-stack.md       # Technology recommendations
│   ├── deployment-architecture.md # Deployment strategies
│   └── error-handling.md        # Error handling patterns
├── strategic-statements/        # Executive business documents
├── core-analysis/               # Business requirements
├── project-charter/             # Formal authorization
├── management-plans/            # PMBOK management plans
├── planning-artifacts/          # Detailed planning
├── stakeholder-management/      # Stakeholder analysis
└── technical-analysis/          # Technology recommendations
```

## Validation & Quality Assurance

### PMBOK 7.0 Compliance Validation
- **Document Completeness**: Validates all required PMBOK elements are present
- **Quality Assessment**: Scores documents based on structure, content, and terminology
- **Cross-Document Consistency**: Ensures consistency across related documents
- **Compliance Reporting**: Detailed reports with actionable recommendations

### Validation Features
- ✅ PMBOK 7.0 standard compliance checking
- ✅ Required element verification for each document type
- ✅ Project terminology consistency validation
- ✅ Document quality scoring (0-100 scale)
- ✅ Cross-reference validation between documents
- ✅ Comprehensive validation reports with recommendations

---

## 🆕 Version Control System for Generated Documents (v2.1.3+)

The Requirements Gathering Agent now features a built-in version control system (VCS) for all generated documents!

### Key Features

- **Automatic Versioning:** Every time you generate or update documents, changes are automatically committed to a local git repository in the `generated-documents/` folder.
- **History & Diffs:** View the full history of changes, see diffs, and revert to previous versions of any generated document.
- **CLI VCS Commands:** Manage document version control directly from the CLI:

  ```bash
  requirements-gathering-agent vcs log
      # Show commit history for generated documents
  requirements-gathering-agent vcs diff <file>
      # Show changes for a specific document
  requirements-gathering-agent vcs revert <file> <commit>
      # Revert a document to a previous version
  requirements-gathering-agent vcs status
      # Show uncommitted changes
  requirements-gathering-agent vcs push
      # Push local changes to remote repository (if configured)
  requirements-gathering-agent vcs pull
      # Pull latest changes from remote repository (if configured)
  ```
- **Remote Sync (Optional):** Configure a remote git repository for backup and collaboration.
- **User Configurable:** Control VCS settings in `config-rga.json` (enable/disable, auto-commit, remote, branch, etc).
- **Full Audit Trail:** Every document change is tracked for compliance and traceability.

### How It Works

- On first run, a git repository is initialized in `generated-documents/` (if not already present).
- After each document generation, changes are auto-committed with a timestamp and provider/model info.
- Use the CLI VCS commands to inspect history, view diffs, revert, or sync with a remote.

### Example Workflow

```bash
# Generate documents (auto-commit runs after generation)
requirements-gathering-agent

# View history
requirements-gathering-agent vcs log

# See changes for a specific file
requirements-gathering-agent vcs diff core-analysis/business-case.md

# Revert a file to a previous version
requirements-gathering-agent vcs revert core-analysis/business-case.md <commit-hash>

# Push changes to remote (if configured)
requirements-gathering-agent vcs push
```

---

## Command Line Options

```bash
requirements-gathering-agent [options]

Options:
  -h, --help                    Show help
  -v, --version                 Show version
  --core-only                   Generate core documents only
  --management-plans            Generate management plans only
  --planning-artifacts          Generate planning artifacts only
  --technical-analysis          Generate technical analysis only
  --generate-technical          Generate technical design documents only (NEW!)
  --generate-stakeholder        Generate stakeholder documents only
  --with-retry                  Enable retry logic for failed documents
  --output <dir>                Specify output directory (default: generated-documents)
  --format <fmt>                Output format: markdown|json|yaml (default: markdown)
  --quiet                       Suppress progress messages (good for CI/CD)
  
Validation Options:
  --validate-pmbok              Generate all documents with PMBOK 7.0 validation
  --generate-with-validation    Generate with comprehensive quality assessment
  --validate-only               Validate existing documents without regenerating
  --validate-consistency        Check cross-document consistency only
  --quality-assessment          Provide detailed quality scores for documents

Context Management Options:
  --context-report              Show Enhanced Context Manager performance report
  --analyze-context             Analyze document-specific context utilization
  --context-metrics             Display context performance metrics and recommendations
  --use-large-context           Force large context mode (auto-detected by default)

VCS Options:
  --vcs-log                     Show commit history for generated documents
  --vcs-diff <file>            Show changes for a specific document
  --vcs-revert <file> <commit>  Revert a document to a previous version
  --vcs-status                  Show uncommitted changes
  --vcs-push                    Push local changes to remote repository (if configured)
  --vcs-pull                    Pull latest changes from remote repository (if configured)
```

## 🧩 Modular Processor Architecture (2025 Update)

The Requirements Gathering Agent now uses a modular, configuration-driven processor factory for all document generation. This makes it easy to add, update, or swap document processors without changing core code.

- **Processors are registered in `processor-config.json`** using canonical keys.
- **ProcessorFactory** loads and instantiates processors based on this config, supporting both static and dynamic imports.
- **To add a new document type:**
  1. Implement your processor in `src/modules/documentTemplates/<category>/<YourProcessor>.ts`.
  2. Register it in `processor-config.json`.
  3. Add it to `generationTasks.ts` and update context relationships if needed.
  4. Add a Jest unit test for your processor (see below).
  5. Update documentation and CLI help.

See [`docs/ARCHITECTURE.md`](docs/ARCHITECTURE.md) and [`docs/STEPS-TO-IMPLEMENT-NEW-DOCS.md`](docs/STEPS-TO-IMPLEMENT-NEW-DOCS.md) for full details.

---

## 🆕 Project KickOff Preparations Checklist

A new document type: **Project KickOff Preparations Checklist**

- **Purpose:** Provides a detailed, PMBOK-aligned checklist for project initiation, planning, setup, risk, communication, and more.
- **Canonical key:** `project-kickoff-preparations-checklist`
- **Output:** `planning-artifacts/project-kickoff-preparations-checklist.md`
- **How to generate:**
  ```pwsh
  requirements-gathering-agent --generate-planning
  # or generate all documents (includes checklist)
  requirements-gathering-agent
  ```
- **CLI listing:** Appears under planning artifacts in `--list-templates` and help output.

---

## 🛠️ How to Add New Document Types

1. Follow the modular processor pattern (see above).
2. Reference [`docs/STEPS-TO-IMPLEMENT-NEW-DOCS.md`](docs/STEPS-TO-IMPLEMENT-NEW-DOCS.md) for a step-by-step guide and worked example.
3. Add a Jest unit test for your processor (see guide for example).
4. Update CLI help and documentation.

---

(Sections above and below remain unchanged)

## Enhanced Analysis in Action

When you run the Requirements Gathering Agent, you'll see the comprehensive analysis and enhanced context management in action:

```bash
🚀 Requirements Gathering Agent v2.1.1
✅ Environment configuration loaded
🧠 Enhanced Context Manager initialized (Gemini 1.5 Pro - 2M tokens)
🔍 Performing comprehensive project analysis...
🔍 Analyzing project for all relevant markdown files...
✅ Found 15 additional markdown files
📋 Found 15 additional relevant files:
   • stakeholder-analysis.md (planning, score: 94)
   • system-architecture.md (development, score: 87)
   • requirements-specification.md (planning, score: 82)
   • api-documentation.md (development, score: 76)
   • user-stories.md (planning, score: 71)
   • ... and 10 more files
💡 High-value sources identified: stakeholder-analysis.md, system-architecture.md, requirements-specification.md
🧠 Context Strategy: Ultra-large model detected - Using comprehensive 3-phase context
📊 Context Utilization: 47.3% (946,800 / 2,000,000 tokens)
📋 Starting PMBOK document generation with enhanced context...
```

This comprehensive analysis and enhanced context management ensures your generated PMBOK documents include **all relevant project information** with maximum context utilization for your AI model's capabilities.

### 🔥 Enhanced Context Manager in Action

The Enhanced Context Manager provides real-time insights during document generation:

```bash
🔧 Building context for project-charter (large context model)
📊 Available tokens: 1,847,550
📄 Added full context for stakeholder-analysis: 23,450 tokens
📄 Added full context for system-architecture: 18,920 tokens
📄 Added full context for requirements-specification: 15,670 tokens
🌟 Ultra-large context model: Including comprehensive project context
📚 Added comprehensive context for api-documentation: 12,340 tokens
📚 Added comprehensive context for user-stories: 8,920 tokens
✅ Final context for project-charter: 1,156,890 tokens (57.8% utilization)
```

This level of context ensures that each generated document has access to the full project understanding, resulting in:
- **More Accurate Documentation**: Complete project understanding leads to better accuracy
- **Better Cross-References**: Full context enables proper document relationships
- **Consistent Terminology**: Comprehensive context maintains consistency across documents
- **Stakeholder-Specific Content**: Rich context enables targeted stakeholder analysis

## Validation Output Examples

### PMBOK 7.0 Compliance Report
```
📊 PMBOK 7.0 Compliance Validation Report
==========================================

🎯 Overall Compliance: ✅ COMPLIANT
📈 Consistency Score: 92/100

📋 Document Quality Scores:
   • project-charter: 95/100
     ✅ All required PMBOK elements covered
     ✅ Uses appropriate PMBOK terminology (8 terms found)
   • stakeholder-register: 88/100
     ✅ Well-structured with multiple sections
     ⚠️ Consider adding stakeholder influence analysis

💡 Recommendations:
   • Ensure all documents follow PMBOK 7.0 performance domains
   • Include clear traceability between objectives and deliverables
   • Maintain consistent terminology across all documents
```

### Quality Assessment Features
- **Enhanced Context Analysis**: Automatically discovers and analyzes ALL project documentation
- **Enhanced Context Manager**: 3-phase context strategy with up to 90% token utilization for large models
- **Smart Source Prioritization**: Scores and ranks documentation by PMBOK relevance (0-100)  
- **Content Analysis**: Checks document length, structure, and completeness
- **PMBOK Terminology**: Validates use of standard project management terms
- **Element Coverage**: Ensures all required PMBOK elements are present
- **Consistency Scoring**: Cross-document validation and scoring
- **Actionable Recommendations**: Specific suggestions for improvement
- **Comprehensive Source Discovery**: Finds stakeholder docs, architecture files, requirements beyond README.md

## Authentication

### Google AI Studio
Get your API key from [Google AI Studio](https://makersuite.google.com/app/apikey)

### Azure OpenAI with Entra ID
```bash
az login
```

### Azure OpenAI with API Key
Set `AZURE_AI_API_KEY` in your `.env` file

### GitHub AI
Get your token from [GitHub Settings](https://github.com/settings/tokens)

### Ollama
```bash
ollama serve
```

## Development

```bash
# Clone repository
git clone https://github.com/mdresch/requirements-gathering-agent.git
cd requirements-gathering-agent

# Install dependencies
npm install

# Build
npm run build

# Run locally
npm start
```

## Requirements

- Node.js 18.0.0 or higher
- Azure OpenAI resource (recommended) or alternative AI provider
- Azure CLI (for Entra ID authentication)
- **Project Documentation**: The more comprehensive your project documentation (beyond README.md), the richer and more accurate your generated PMBOK documents will be

## What Makes This Different?

The Requirements Gathering Agent stands out by providing:

🏆 **Complete Technical Design System** - Enterprise-grade technical documentation suite with 10 specialized processors for architecture, system design, database schema, API documentation, security design, and more

� **AI-Powered Technical Intelligence** - Each technical document type uses specialized AI prompts for intelligent, context-aware content generation tailored to specific technical domains

📋 **Professional Technical Templates** - Comprehensive, enterprise-ready markdown templates with executive summaries, detailed specifications, implementation guidelines, and best practices

�🔍 **Comprehensive Project Analysis** - Unlike tools that only read README files, we analyze your ENTIRE project documentation ecosystem

🧠 **Enhanced Context Manager** - Revolutionary 3-phase context strategy providing 25-75x more context to AI models for dramatically better documentation

📊 **Intelligent Source Discovery** - Automatically finds and analyzes stakeholder documents, architecture specs, requirements files, and more

🚀 **Large Context Model Optimization** - Up to 90% context utilization for models like Gemini 1.5 Pro (2M tokens), ensuring maximum accuracy

🎯 **PMBOK-Specific Intelligence** - Scores documentation relevance specifically for project management and PMBOK compliance

✅ **End-to-End Validation** - Not just generation, but comprehensive PMBOK 7.0 compliance validation with actionable recommendations

🏗️ **Enterprise-Ready** - Professional directory structure, multiple AI providers, robust error handling, and CI/CD support

🔧 **Model-Aware Performance** - Automatically detects your AI model's capabilities and optimizes context strategy accordingly

⚡ **Full CLI Integration** - Complete command-line accessibility for all document types with individual and batch generation options

## License

MIT License - see [LICENSE](LICENSE) file for details.

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## Support

- 📖 [Documentation](https://github.com/mdresch/requirements-gathering-agent)
- 🐛 [Issues](https://github.com/mdresch/requirements-gathering-agent/issues)
- 💬 [Discussions](https://github.com/mdresch/requirements-gathering-agent/discussions)

---

**Built with ❤️ by [Menno Drescher] (https://exceptional-cba-project.webflow.io/) using Azure OpenAI**

## 🟡 Outstanding/Recent Issues & Fixes

### Issue: Zero Tokens in Context for Some Documents
- **Symptom:** Some generated documents (e.g., user-personas) showed `Final context: 0 tokens`.
- **Root Cause:** The Enhanced Context Manager was not being populated with the discovered markdown files from project analysis, resulting in an empty context for those documents.
- **Fix:** Added logic to ensure all discovered markdown files are added to the Enhanced Context Manager’s enriched context before document generation. Now, each document receives the full relevant context, and token counts reflect actual content.

### Issue: CLI Permission Denied (`npx rga`)
- **Symptom:** Running `npx rga` resulted in `Permission denied`.
- **Root Cause:** The CLI binary was not executable or not properly linked after build.
- **Fix:** Ensured the CLI is built (`npm run build`), has executable permissions (`chmod +x dist/cli.js`), and is correctly linked in the npm bin directory. Also, documented alternative run commands (`npm start`, `node dist/cli.js`).

### Issue: Enhanced Context Not Utilized for Large Models
- **Symptom:** Large language models (e.g., Gemini 1.5 Pro) were not utilizing their full context window.
- **Root Cause:** The context manager was not auto-detecting model capabilities or was too conservative in context allocation.
- **Fix:** Improved model detection and context allocation logic. Now, up to 90% of available tokens are used for ultra-large models, maximizing documentation accuracy.

---

## 🔧 Suggestions for Further Improvement

The Requirements Gathering Agent is robust and production-ready, but here are some areas for future enhancement—especially in the project analysis and context-building system:

- **Direct Context Injection:**  
  Add a function to directly inject all high-relevance markdown files into the Enhanced Context Manager’s enriched context, not just the combined context string. This will further improve per-document context building and accuracy for large LLMs.

- **Async Parallelization:**  
  For very large projects, consider parallelizing directory scans to speed up project analysis and markdown discovery.

- **Configurable Limits:**  
  Allow configuration of the maximum number of files and maximum content length included in the context via CLI options or environment variables, giving users more control over context size and performance.

- **Custom Directory Patterns:**  
  Enable users to specify additional directories or filename patterns to include or exclude in the analysis, making the tool even more flexible for diverse project structures.

- **Context Utilization Feedback:**  
  Provide real-time feedback or warnings if the context is being truncated due to token limits, and suggest ways to optimize context inclusion.


## 🧠 Enhanced llmProcessor.ts Improvements

⚡ Suggestions for Further Improvement
Async context population: For very large projects, consider parallelizing context injection for speed.
User-configurable context strategies: Allow users to tune context allocation via CLI or config.
Context pruning: Implement smarter pruning for extremely large projects to avoid token overflow.
More granular metrics: Track per-document context utilization and generation times.

Improvmenets contextManager.ts 
💡 Possible Improvements
AI-Powered Summarization:
Replace the fallback truncation in summarizeText with an actual LLM-powered summary for more meaningful context reduction.

Dynamic Context Mapping:
Allow the contextMap to be extended/configured at runtime or via project analysis, so relationships can be tailored to each project.

Async Context Assembly:
For very large projects, parallelize context fetching and summarization for speed.

Context Utilization Metrics:
Add methods to report how much of the available context window is used per document, and warn if context is being heavily truncated.

Context Pruning/Ranking:
Implement smarter selection of enriched context (e.g., based on relevance scores or recency) when there are too many sources to fit.

User-Configurable Token Limits:
Allow users to override maxContextTokens via CLI or config for advanced tuning.

Support for Additional Context Types:
Add support for images, diagrams, or other non-markdown sources as context (with appropriate conversion).

💡 Possible Improvements
AI-Powered Summarization:
Replace the fallback truncation in summarizeText with an actual LLM-powered summary for more meaningful context reduction.

Dynamic Context Mapping:
Allow the contextMap to be extended/configured at runtime or via project analysis, so relationships can be tailored to each project.

Async Context Assembly:
For very large projects, parallelize context fetching and summarization for speed.

Context Utilization Metrics:
Add methods to report how much of the available context window is used per document, and warn if context is being heavily truncated.

Context Pruning/Ranking:
Implement smarter selection of enriched context (e.g., based on relevance scores or recency) when there are too many sources to fit.

User-Configurable Token Limits:
Allow users to override maxContextTokens via CLI or config for advanced tuning.

Support for Additional Context Types:
Add support for images, diagrams, or other non-markdown sources as context (with appropriate conversion).

---

*Have an idea or want to contribute? Open an issue or pull request on GitHub!*


=== PROJECT METADATA ===
Name: requirements-gathering-agent
Description: 🎉 AI-powered PMBOK documentation generator - celebrating 175 weekly downloads milestone! Generates comprehensive project management documents from README context
Version: 2.1.3-prerelease
Dependencies: @azure-rest/ai-inference, @azure/identity, @azure/openai, @google/generative-ai, @types/node-fetch, dotenv, node-fetch, openai, requirements-gathering-agent, ts-node
Dev Dependencies: @jest/globals, @types/glob, @types/jest, @types/node, ajv, jest, rimraf, ts-jest, typescript
Available Scripts: build, start, dev, clean, test, test:providers, test:performance, test:azure, test:github, test:ollama, test:failover, test:unit, prepublishOnly

=== 02_REQUIREMENTS_MANAGEMENT_PLAN.MD (planning) ===
Path: Gitbook\PMBOK_Documents\Planning\02_Requirements_Management_Plan.md
Relevance Score: 100

# AI-Generated Requirements Management Plan

Certainly! Below is a detailed analysis of the **Requirements Gathering Agent** project requirements, covering **functional requirements**, **non-functional requirements**, **constraints**, and **acceptance criteria**, based on the provided project charter and related documents.

---

# Requirements Analysis for Requirements Gathering Agent Project

---

## 1. Functional Requirements (What the system must do)

Derived primarily from the High-Level Requirements, Project Objectives, and Project Scope:

| Req. ID | Description                                                                                                    | Priority   |
|---------|----------------------------------------------------------------------------------------------------------------|------------|
| FR-1    | Automatically generate PMBOK-compliant project charters from input data.                                       | High       |
| FR-2    | Produce additional PMBOK-compliant documents: stakeholder registers, scope management plans, risk management plans, work breakdown structures, and compliance documentation. | High       |
| FR-3    | Integrate with Azure AI inference APIs securely using managed identities (Azure Identity SDK).                 | High       |
| FR-4    | Output all generated documents strictly in validated JSON format to ensure interoperability.                  | High       |
| FR-5    | Provide a Command-Line Interface (CLI) for users to invoke the module and manage configurations.               | High       |
| FR-6    | Perform schema validation on generated outputs to ensure data integrity and PMBOK compliance.                  | High       |
| FR-7    | Support a modular architecture to allow future extensions and integration with third-party project management tools. | Medium     |
| FR-8    | Provide user documentation, tutorials, and training materials for onboarding and ongoing support.             | Medium     |
| F
... [truncated]

=== ARCHITECTURE.MD (development) ===
Path: docs\ARCHITECTURE.md
Relevance Score: 95

# Requirements Gathering Agent - Architecture Documentation

## Overview

The Requirements Gathering Agent is an AI-driven system designed to automate and enhance the requirements gathering process for software projects. It leverages multiple AI providers and context management techniques to generate comprehensive project documentation, user stories, and strategic planning artifacts.

## System Architecture

### Core Components

#### 1. Context Management System
- **Context Manager**: Central component for managing project context and AI interactions
- **Provider Abstraction**: Support for multiple AI providers (OpenAI, Google AI, GitHub Copilot, Ollama)
- **Context Injection**: Direct context injection capabilities for efficient AI processing

#### 2. AI Provider Integration
- **Multi-Provider Support**: Flexible architecture supporting various AI services
- **Provider Synchronization**: Coordinated AI provider management
- **Fallback Mechanisms**: Robust handling of provider failures

#### 3. Document Generation Engine
- **Template-Based Generation**: Structured document creation using predefined templates
- **PMBOK Compliance**: Project management artifacts following PMBOK guidelines
- **Automated Workflows**: End-to-end document generation pipelines

#### 4. CLI Interface
- **Command-Line Tools**: `cli.ts` and `cli-main.ts` for system interaction
- **Batch Processing**: Support for bulk document generation
- **Configuration Management**: Flexible configuration options

### Technology Stack

#### Core Technologies
- **TypeScript**: Primary development language for type safety and maintainability
- **Node.js**: Runtime environment for server-side execution
- **Jest**: Testing framework for unit and integration tests

#### AI Integration
- **OpenAI API**: GPT models for text generation and analysis
- **Google AI**: Gemini models for alternative AI processing
- **GitHub Copilot**: Code generation and assistance
- **Ollama**: 
... [truncated]

=== IMPLEMENTATION-GUIDE-PROVIDER-CHOICE-MENU.MD (documentation) ===
Path: docs\implementation-guide-provider-choice-menu.md
Relevance Score: 95

# Interactive AI Provider Selection Menu - Implementation Guide

**Document Version:** 1.0  
**Created:** December 2024  
**Last Updated:** December 2024  
**Target Audience:** Developers, Technical Leads, Product Managers  

---

## 📋 Table of Contents

1. [Overview](#overview)
2. [Current System Analysis](#current-system-analysis)
3. [Implementation Strategy](#implementation-strategy)
4. [Interactive Choice Menu Design](#interactive-choice-menu-design)
5. [Code Implementation](#code-implementation)
6. [Integration with Existing System](#integration-with-existing-system)
7. [User Experience Flow](#user-experience-flow)
8. [Error Handling & Validation](#error-handling--validation)
9. [Testing Strategy](#testing-strategy)
10. [Migration Guide](#migration-guide)
11. [Best Practices](#best-practices)
12. [Troubleshooting](#troubleshooting)

---

## 📖 Overview

This guide provides comprehensive documentation for implementing an interactive choice menu that allows users to select an AI provider before running the Requirements Gathering Agent. The feature enhances user experience by providing a visual selection interface instead of requiring manual environment configuration.

### 🎯 Objectives

- **Simplify Provider Selection**: Replace manual `.env` configuration with an interactive menu
- **Improve User Experience**: Provide clear provider options with descriptions and setup guidance
- **Maintain Existing Functionality**: Preserve current provider detection and fallback mechanisms
- **Enable Dynamic Switching**: Allow users to change providers without restarting the application

### 🔧 Key Features

- Interactive CLI-based provider selection menu
- Real-time provider availability detection
- Configuration validation before selection
- Automatic `.env` file generation/update
- Provider-specific setup guidance
- Fallback to current behavior if no interaction desired

---

## 🔍 Current System Analysis

### Existing Provi
... [truncated]

=== ARCHITECTURE.MD (development) ===
Path: docs\ARCHITECTURE.md
Relevance Score: 95

# Requirements Gathering Agent - Architecture Documentation

## Overview

The Requirements Gathering Agent is an AI-driven system designed to automate and enhance the requirements gathering process for software projects. It leverages multiple AI providers and context management techniques to generate comprehensive project documentation, user stories, and strategic planning artifacts.

## System Architecture

### Core Components

#### 1. Context Management System
- **Context Manager**: Central component for managing project context and AI interactions
- **Provider Abstraction**: Support for multiple AI providers (OpenAI, Google AI, GitHub Copilot, Ollama)
- **Context Injection**: Direct context injection capabilities for efficient AI processing

#### 2. AI Provider Integration
- **Multi-Provider Support**: Flexible architecture supporting various AI services
- **Provider Synchronization**: Coordinated AI provider management
- **Fallback Mechanisms**: Robust handling of provider failures

#### 3. Document Generation Engine
- **Template-Based Generation**: Structured document creation using predefined templates
- **PMBOK Compliance**: Project management artifacts following PMBOK guidelines
- **Automated Workflows**: End-to-end document generation pipelines

#### 4. CLI Interface
- **Command-Line Tools**: `cli.ts` and `cli-main.ts` for system interaction
- **Batch Processing**: Support for bulk document generation
- **Configuration Management**: Flexible configuration options

### Technology Stack

#### Core Technologies
- **TypeScript**: Primary development language for type safety and maintainability
- **Node.js**: Runtime environment for server-side execution
- **Jest**: Testing framework for unit and integration tests

#### AI Integration
- **OpenAI API**: GPT models for text generation and analysis
- **Google AI**: Gemini models for alternative AI processing
- **GitHub Copilot**: Code generation and assistance
- **Ollama**: 
... [truncated]

=== IMPLEMENTATION-GUIDE-PROVIDER-CHOICE-MENU.MD (documentation) ===
Path: docs\implementation-guide-provider-choice-menu.md
Relevance Score: 95

# Interactive AI Provider Selection Menu - Implementation Guide

**Document Version:** 1.0  
**Created:** December 2024  
**Last Updated:** December 2024  
**Target Audience:** Developers, Technical Leads, Product Managers  

---

## 📋 Table of Contents

1. [Overview](#overview)
2. [Current System Analysis](#current-system-analysis)
3. [Implementation Strategy](#implementation-strategy)
4. [Interactive Choice Menu Design](#interactive-choice-menu-design)
5. [Code Implementation](#code-implementation)
6. [Integration with Existing System](#integration-with-existing-system)
7. [User Experience Flow](#user-experience-flow)
8. [Error Handling & Validation](#error-handling--validation)
9. [Testing Strategy](#testing-strategy)
10. [Migration Guide](#migration-guide)
11. [Best Practices](#best-practices)
12. [Troubleshooting](#troubleshooting)

---

## 📖 Overview

This guide provides comprehensive documentation for implementing an interactive choice menu that allows users to select an AI provider before running the Requirements Gathering Agent. The feature enhances user experience by providing a visual selection interface instead of requiring manual environment configuration.

### 🎯 Objectives

- **Simplify Provider Selection**: Replace manual `.env` configuration with an interactive menu
- **Improve User Experience**: Provide clear provider options with descriptions and setup guidance
- **Maintain Existing Functionality**: Preserve current provider detection and fallback mechanisms
- **Enable Dynamic Switching**: Allow users to change providers without restarting the application

### 🔧 Key Features

- Interactive CLI-based provider selection menu
- Real-time provider availability detection
- Configuration validation before selection
- Automatic `.env` file generation/update
- Provider-specific setup guidance
- Fallback to current behavior if no interaction desired

---

## 🔍 Current System Analysis

### Existing Provi
... [truncated]

=== 01_SCOPE_MANAGEMENT_PLAN.MD (planning) ===
Path: Gitbook\PMBOK_Documents\Planning\01_Scope_Management_Plan.md
Relevance Score: 92

# AI-Generated Scope Management Plan

Certainly! Below is a detailed **Scope Management Plan** for the **Requirements Gathering Agent** project, structured per PMBOK standards and aligned with the project charter and related inputs you provided.

---

# Scope Management Plan  
## Project: Requirements Gathering Agent

---

## 1. Introduction

This Scope Management Plan defines how the project scope will be defined, developed, validated, and controlled throughout the lifecycle of the Requirements Gathering Agent project. Its purpose is to ensure that all project work and only the work required to complete the project successfully is included, ensuring alignment with the PMBOK standards, stakeholder expectations, and organizational policies.

---

## 2. Scope Management Approach

The project scope will be managed through a formal process involving requirements gathering, scope definition, Work Breakdown Structure (WBS) development, scope validation with stakeholders, and ongoing scope control. The plan will leverage iterative stakeholder engagement and formal documentation to manage scope creep and ensure traceability.

---

## 3. Scope Definition Process

### 3.1 Inputs

- Project Charter (defines high-level scope, objectives, and constraints)
- Stakeholder Register (identifies needs and expectations)
- Requirements Documentation (detailed functional and non-functional requirements)
- Organizational Process Assets (templates, lessons learned)
- Enterprise Environmental Factors (industry standards, regulatory requirements)

### 3.2 Activities

- Conduct detailed requirements elicitation workshops with key stakeholders (e.g., Project Managers, Business Analysts, Compliance Officers).
- Analyze and document detailed project deliverables, features, and boundaries.
- Identify and document in-scope and out-of-scope items explicitly to prevent ambiguity.
- Define acceptance criteria for project deliverables aligned with PMBOK compliance.

### 3.3 Outputs

- Detailed Project
... [truncated]

=== CHANGELOG.MD (documentation) ===
Path: docs\CHANGELOG.md
Relevance Score: 86

# Requirements Gathering Agent - Change Log

## Version History

### Latest Changes (Current Development)

#### Features Added
- **Multi-Provider AI Integration**: Enhanced support for OpenAI, Google AI, GitHub Copilot, and Ollama
- **Context Management System**: Improved context injection and management capabilities
- **Document Generation Engine**: Automated generation of project documentation and artifacts
- **Strategic Planning Tools**: Mission, vision, and strategic statement generation
- **PMBOK Compliance**: Project management artifacts following industry standards
- **Prerelease Version**: Published version `2.1.3-prerelease` to npm for testing and feedback.

#### Improvements
- **CLI Interface**: Enhanced command-line tools for better user experience
- **Error Handling**: Improved error management and recovery mechanisms
- **Performance Optimization**: Better resource utilization and API efficiency
- **Code Quality**: Enhanced TypeScript typing and ESLint configuration
- **Documentation**: Updated the `STEPS-TO-IMPLEMENT-NEW-DOCS.md` guide with recommendations for clarity, testing, validation, and best practices.
- **Testing**: Expanded test coverage for new document types and improved integration tests.
- **CLI**: Enhanced CLI support for new document categories and improved user experience.

#### Bug Fixes
- **Provider Synchronization**: Fixed issues with AI provider coordination
- **Context Validation**: Resolved context processing edge cases
- **File Generation**: Corrected document output formatting issues
- **Configuration Handling**: Fixed environment variable processing
- **Document Validation**: Resolved issues related to document validation and file access.

### Recent Development Milestones

#### Milestone 175 - Downloads and Distribution
- **Package Management**: Improved npm package configuration
- **Distribution Files**: Enhanced build and distribution process
- **Documentation**: Comprehensive project docume
... [truncated]

=== 03_PROJECT_SCOPE_STATEMENT.MD (planning) ===
Path: Gitbook\PMBOK_Documents\Planning\03_Project_Scope_Statement.md
Relevance Score: 86

# AI-Generated Project Scope Statement

# Business Case Analysis for the Requirements Gathering Agent Project

---

## Executive Summary

The **Requirements Gathering Agent** project aims to deliver an AI-augmented, Node.js/TypeScript CLI tool that automates the creation of PMBOK-compliant project management documentation. Leveraging Azure AI, it promises significant time savings, improved accuracy, compliance assurance, and better stakeholder alignment. This business case evaluates the financial viability, market potential, and strategic justification to support investment and prioritization.

---

## 1. Problem Statement

Project documentation creation is traditionally manual, time-consuming, error-prone, and often inconsistent across teams and projects. This leads to delays, compliance risks, and misaligned stakeholder expectations, impacting project success rates and increasing administrative overhead.

---

## 2. Proposed Solution

The Requirements Gathering Agent automates document generation with AI assistance, producing standardized, PMBOK-compliant artifacts (e.g., project charters, stakeholder registers, risk plans) in strict JSON format for seamless tool integration. By embedding best practices and compliance checks, it reduces manual effort and enforces governance.

---

## 3. Market Analysis

### 3.1 Target Market

- **Primary:** Medium to large organizations with established PMOs and software development teams requiring standardized project management processes.
- **Secondary:** Consulting firms, regulatory bodies, and vendors who rely on formal project documentation.

### 3.2 Market Needs

- Automation of repetitive PM documentation tasks.
- Compliance with PMBOK and regulatory standards.
- Integration with existing PM tools and workflows.
- Enhanced strategic planning and risk management via AI insights.

### 3.3 Competitive Landscape

- Existing tools mainly offer template-based document generation or manual PM software.
- Few solutions leverage AI 
... [truncated]

=== CHANGELOG.MD (documentation) ===
Path: docs\CHANGELOG.md
Relevance Score: 86

# Requirements Gathering Agent - Change Log

## Version History

### Latest Changes (Current Development)

#### Features Added
- **Multi-Provider AI Integration**: Enhanced support for OpenAI, Google AI, GitHub Copilot, and Ollama
- **Context Management System**: Improved context injection and management capabilities
- **Document Generation Engine**: Automated generation of project documentation and artifacts
- **Strategic Planning Tools**: Mission, vision, and strategic statement generation
- **PMBOK Compliance**: Project management artifacts following industry standards
- **Prerelease Version**: Published version `2.1.3-prerelease` to npm for testing and feedback.

#### Improvements
- **CLI Interface**: Enhanced command-line tools for better user experience
- **Error Handling**: Improved error management and recovery mechanisms
- **Performance Optimization**: Better resource utilization and API efficiency
- **Code Quality**: Enhanced TypeScript typing and ESLint configuration
- **Documentation**: Updated the `STEPS-TO-IMPLEMENT-NEW-DOCS.md` guide with recommendations for clarity, testing, validation, and best practices.
- **Testing**: Expanded test coverage for new document types and improved integration tests.
- **CLI**: Enhanced CLI support for new document categories and improved user experience.

#### Bug Fixes
- **Provider Synchronization**: Fixed issues with AI provider coordination
- **Context Validation**: Resolved context processing edge cases
- **File Generation**: Corrected document output formatting issues
- **Configuration Handling**: Fixed environment variable processing
- **Document Validation**: Resolved issues related to document validation and file access.

### Recent Development Milestones

#### Milestone 175 - Downloads and Distribution
- **Package Management**: Improved npm package configuration
- **Distribution Files**: Enhanced build and distribution process
- **Documentation**: Comprehensive project docume
... [truncated]

=== 01_PROJECT_CONTEXT_FROM_README.MD (planning) ===
Path: Gitbook\requirements\01_project_context_from_readme.md
Relevance Score: 80

# Project Context from README.md

# Requirements Gathering Agent

A comprehensive Node.js/TypeScript module for automated project management documentation generation using Azure AI. This tool generates complete PMBOK-aligned project documentation, including strategic sections, requirements, and comprehensive project management plans for any software project.

## Features

### Strategic Planning
- Project vision, mission, core values, and purpose statements
- User roles, needs, and processes identification
- Technology stack analysis and recommendations

### PMBOK-Aligned Documentation Generation
This tool can generate comprehensive project management documentation following the Project Management Body of Knowledge (PMBOK) framework:

#### Initiating Process Group
- **Project Charter**: Complete project authorization document
- **Stakeholder Register**: Comprehensive stakeholder identification and analysis

#### Planning Process Group
- **Scope Management Plan**: Project scope definition and control procedures
- **Requirements Management Plan**: Requirements collection, analysis, and traceability
- **Schedule Management Plan**: Time management and scheduling approach
- **Cost Management Plan**: Budget planning and cost control procedures
- **Quality Management Plan**: Quality assurance and control processes
- **Resource Management Plan**: Human and material resource planning
- **Communications Management Plan**: Stakeholder communication strategy
- **Risk Management Plan**: Risk identification, analysis, and response planning
- **Procurement Management Plan**: Vendor and contract management approach
- **Stakeholder Engagement Plan**: Stakeholder engagement strategies

#### Detailed Planning Artifacts
- **Work Breakdown Structure (WBS)**: Hierarchical project decomposition
- **WBS Dictionary**: Detailed work package descriptions
- **Activity List**: Comprehensive project activities
- **Activity Duration Estimates**: Time estimation fo
... [truncated]


- **Document Type:** Code Review Process and Guidelines
- **Generated:** 17/06/2025
- **Version:** 1.0

## 1. Executive Summary

This document establishes comprehensive code review processes and guidelines for === PROJECT README ===
# ADPA - Automated Documentation Project Assistant

*Formerly: Requirements Gathering Agent*

[![npm version](https://badge.fury.io/js/requirements-gathering-agent.svg)](https://badge.fury.io/js/requirements-gathering-agent)
[![npm downloads](https://img.shields.io/npm/dm/requirements-gathering-agent.svg)](https://www.npmjs.com/package/requirements-gathering-agent)
[![license](https://img.shields.io/npm/l/requirements-gathering-agent.svg)](https://github.com/your-username/requirements-gathering-agent/blob/main/LICENSE)

---

## 🎉 MILESTONE ACHIEVED: 175 Weekly Downloads! 

**We're celebrating a major milestone - 175 weekly downloads on NPM!** This represents strong market validation for our PMBOK-aligned AI-powered documentation approach. Thank you to our growing community of project managers and business analysts who are transforming their documentation workflows! 🚀

**[📊 View Full Milestone Report →](MILESTONE-175-DOWNLOADS.md)**

---

## 🏆 BREAKTHROUGH: AI-Powered Strategic Business Inception

**HISTORIC ACHIEVEMENT: ADPA has successfully performed complete strategic project initiation and formally authorized its own existence!**

### 🎯 Context Foundation Strategy Complete

Through our revolutionary **"Context Foundation"** approach, ADPA has demonstrated unprecedented AI-powered business intelligence by:

- ✅ **Generated Strategic Justification** → [`BusinessCase.md`](generated-documents/core-analysis/business-case.md) - Complete ROI analysis and strategic rationale
- ✅ **Mapped Stakeholder Ecosystem** → [`StakeholderRegister.md`](generated-documents/stakeholder-management/stakeholder-register.md) - Intelligent stakeholder identification and engagement planning  
- ✅ **Defined Project Boundaries** → [`ProjectScopeStatement.md`](generated-documents/scope-management/project-scope-statement.md) - Precise scope definition with clear in/out boundaries
- ✅ **Assessed Strategic Risks** → [`RiskRegister.md`](generated-documents/risk-management/risk-register.md) - Comprehensive risk analysis with mitigation strategies
- ✅ **Issued Executive Authorization** → [`ProjectCharter.md`](generated-documents/project-charter.md) - **FORMAL PROJECT CHARTER WITH FULL ORGANIZATIONAL AUTHORITY**

### 🚀 The World's First AI-Powered Strategic Business Inception Engine

ADPA has evolved from a documentation generator to the **definitive AI-powered Strategic Business Inception Engine**, capable of:

- **📋 Complete Project Lifecycle Initiation** - From business case to formal charter authorization
- **🧠 Cross-Document Intelligence** - Synthesizes insights across multiple foundational documents  
- **👔 Executive-Grade Output** - Board-presentation ready strategic documents
- **⚖️ PMBOK 7.0 Compliance** - Full adherence to project management best practices
- **🎯 Self-Actualization** - ADPA literally authorized its own project existence through AI synthesis

**This represents a paradigm shift from "document generation" to "strategic business intelligence."**

**[🎯 View Complete Strategic Foundation →](generated-documents/)**

---

## 🏆 LATEST ACHIEVEMENT: Technical Design Document System

**MISSION COMPLETE: ADPA has successfully implemented a comprehensive Technical Design Document Generation System!**

### 🚀 Technical Design System Victory

ADPA now features a complete **AI-Powered Technical Design Documentation Suite** with enterprise-grade capabilities:

- **✅ 10 Specialized Technical Document Processors** - Each with dedicated AI prompts for intelligent content generation
- **✅ Comprehensive Professional Templates** - Enterprise-ready markdown structures with context-aware content
- **✅ Full CLI Integration** - Complete command-line accessibility and discoverability
- **✅ Modular Architecture** - Extensible processor-based system for future expansion
- **✅ Validation Framework** - Built-in quality assurance and error handling
- **✅ Context-Aware Generation** - Documents adapt to specific project contexts and requirements

### 🔧 Technical Document Types Implemented

1. **Architecture Design** - System architecture, components, and structural patterns
2. **System Design** - Detailed system specifications and design decisions
3. **Database Schema** - Data modeling, relationships, and database structure
4. **API Documentation** - RESTful API specifications and integration guides
5. **Security Design** - Security architecture, protocols, and compliance frameworks
6. **Performance Requirements** - Performance specifications, benchmarks, and SLAs
7. **Integration Design** - System integration patterns and data flow documentation
8. **Technical Stack** - Technology recommendations and stack analysis
9. **Deployment Architecture** - Infrastructure design and deployment strategies
10. **Error Handling** - Error patterns, recovery procedures, and logging strategies

### 🎯 Key Technical Achievements

- **Specialized AI Prompts**: Each processor uses document-specific AI instructions for optimal content generation
- **Professional Templates**: Comprehensive markdown structures with executive summaries, technical specifications, and implementation guidelines
- **Context Integration**: All documents leverage project context for personalized, relevant content
- **CLI Commands**: Full integration with `--generate-technical` and individual document generation commands
- **Quality Assurance**: Built-in validation, error handling, and output verification
- **Enterprise-Ready**: Production-quality code with TypeScript, comprehensive testing, and modular design

### 🚀 Usage Examples

```bash
# Generate all technical design documents
requirements-gathering-agent --generate-technical

# Generate specific technical documents
requirements-gathering-agent --generate architecturedesign
requirements-gathering-agent --generate apidocumentation
requirements-gathering-agent --generate securitydesign
```

**The Technical Design Document System represents a major evolution in ADPA's capabilities, providing enterprise-grade technical documentation with AI-powered intelligence and professional quality output.**

**[🏆 View Complete Victory Report →](ADPA-QA-ENGINE-VICTORY-REPORT.md)**

---

## 🚀 NEW: Business Communication Translator System

**ADPA (Automated Documentation Project Assistant)** has evolved beyond simple documentation generation - we're now a sophisticated **Business Communication Translator** that transforms technical project context into strategic business documents!

### 🎯 Recent Breakthroughs

- **✨ Strategic Document Generation**: Successfully generates professional Company Values, Purpose Statements, and other executive-ready strategic documents
- **🧠 Deep Context Understanding**: Advanced AI analysis that understands project essence and translates it into authentic corporate communications
- **🔄 Meta-Capability "Dogfooding"**: ADPA can now generate its own strategic artifacts from its own project context - the ultimate validation!
- **📈 Professional Quality Output**: Executive-ready documents indistinguishable from professionally crafted corporate materials
- **🎨 Intelligent Expansion**: System adds value beyond templates by including relevant sections like "Living Our Values" and actionable behavioral examples

### 🏆 Success Metrics
- ✅ **Authenticity**: Generated values genuinely reflect real project missions and capabilities
- ✅ **Intelligence**: System infers implicit concepts and expands appropriately on technical details
- ✅ **Professional Grade**: Output ready for executive presentations and corporate websites
- ✅ **Context-Adaptive**: Templates are generic and instructional, not hardcoded to specific projects

**[🎯 View Generated Strategic Documents →](generated-documents/strategic-statements/)**

---

🚀 **AI-powered PMBOK documentation generator using Azure OpenAI**

Transform your project's README into comprehensive project management documentation following PMBOK (Project Management Body of Knowledge) standards.

## Features

✅ **🏆 TECHNICAL DESIGN DOCUMENT SYSTEM** - Complete AI-powered technical design documentation suite (NEW!)  
✅ **🔧 10 Technical Document Processors** - Architecture, System Design, Database Schema, API Documentation, Security Design, Performance Requirements, Integration Design, Technical Stack, Deployment Architecture, Error Handling  
✅ **📋 Context-Aware Technical Templates** - Professional, comprehensive markdown templates for enterprise-grade documentation  
✅ **🚀 Specialized AI Prompts** - Document-specific AI instructions for intelligent content generation  
✅ **⚡ CLI Technical Generation** - Full command-line accessibility with `--generate-technical` and individual document commands  
✅ **Business Communication Translator** - Transform technical context into strategic business documents  
✅ **Strategic Document Generation** - Company Values, Purpose Statements, and executive-ready materials  
✅ **Complete PMBOK Document Suite** - Generates 29 professional documents  
✅ **Enhanced Project Analysis** - Discovers and analyzes ALL markdown files beyond README.md  
✅ **Intelligent Context Building** - Scores and prioritizes documentation sources (0-100 relevance)  
✅ **Deep Context Understanding** - Advanced AI that understands project essence and translates authentically  
✅ **Comprehensive Source Discovery** - Finds stakeholder docs, architecture files, requirements, and more  
✅ **PMBOK 7.0 Compliance Validation** - Validates documents against PMBOK standards  
✅ **Cross-Document Consistency** - Ensures consistency across all generated documents  
✅ **Document Quality Assessment** - Provides detailed quality scores and recommendations  
✅ **Azure OpenAI Integration** - Powered by GPT-4 with Entra ID authentication  
✅ **Organized Output** - Professional categorized directory structure  
✅ **Multiple AI Providers** - Azure OpenAI, GitHub AI, Ollama support  
✅ **Enhanced Context Manager** - Intelligent 3-phase context strategy for large language models  
✅ **Large Context Model Support** - Up to 90% context utilization for models like Gemini 1.5 Pro (2M tokens)  
✅ **Enterprise Ready** - Robust error handling and retry logic  
✅ **TypeScript** - Modern, type-safe implementation

## Quick Start

### Installation

```bash
# Install globally
npm install -g requirements-gathering-agent

# Or run directly with npx
npx requirements-gathering-agent
```

### Basic Usage

```bash
# Generate all PMBOK documents
requirements-gathering-agent

### � Technical Design Document Generation (NEW!)
# Generate all technical design documents
requirements-gathering-agent --generate-technical

# Generate specific technical design documents
requirements-gathering-agent --generate architecturedesign
requirements-gathering-agent --generate systemdesign
requirements-gathering-agent --generate databaseschema
requirements-gathering-agent --generate apidocumentation
requirements-gathering-agent --generate securitydesign
requirements-gathering-agent --generate performancerequirements
requirements-gathering-agent --generate integrationdesign
requirements-gathering-agent --generate technicalstack
requirements-gathering-agent --generate deploymentarchitecture
requirements-gathering-agent --generate errorhandling

### �🎯 Strategic Document Generation
# Generate executive-ready strategic documents
requirements-gathering-agent --generate purpose-statement
requirements-gathering-agent --generate company-values

### 📋 PMBOK Document Generation
# Generate all documents with PMBOK 7.0 validation
requirements-gathering-agent --validate-pmbok

# Generate with comprehensive validation and quality assessment
requirements-gathering-agent --generate-with-validation

# Generate core documents only
requirements-gathering-agent --core-only

# Generate stakeholder documents only
requirements-gathering-agent --generate-stakeholder

# Generate with retry logic
requirements-gathering-agent --with-retry

# Validate existing documents against PMBOK standards
requirements-gathering-agent --validate-only
```

## 🔍 Enhanced Project Analysis

The Requirements Gathering Agent now features **comprehensive project analysis** that goes far beyond just reading your README.md file. It intelligently discovers and analyzes ALL relevant documentation in your project to build the richest possible context for generating PMBOK documents.

### Intelligent Source Discovery

The enhanced analyzer automatically discovers and processes:

- **📋 Requirements Documents** (`requirements/`, `specs/`, `specifications/`)
- **🏗️ Architecture Documentation** (`docs/architecture.md`, `design/`)
- **👥 Stakeholder Information** (`stakeholders.md`, `requirements/stakeholders.md`)
- **📋 Planning Documents** (`planning/`, `roadmap.md`, `scope.md`)
- **⚙️ Technical Documentation** (`docs/`, `wiki/`, `.github/`)
- **🔄 Project Metadata** (`package.json`, project configuration files)

### Smart Relevance Scoring

Each discovered file is analyzed and scored (0-100) based on:

- **📝 Content Relevance** - PMBOK terminology and project management concepts
- **📁 File Location** - Strategic placement in documentation directories  
- **🏷️ Naming Patterns** - High-value keywords (requirements, architecture, stakeholders)
- **📏 Content Structure** - Well-organized documents with headers and sections
- **📊 Content Depth** - Substantial, meaningful documentation

### Automatic Categorization

Files are intelligently categorized as:
- **🔵 Primary** - Core project documentation (overview, introduction, setup)
- **🟢 Planning** - Requirements, roadmaps, scope, planning documents
- **🟡 Development** - Architecture, APIs, technical specifications
- **🟠 Documentation** - User guides, tutorials, general documentation  
- **⚪ Other** - Supporting documentation

### Enhanced Context Building

The system builds comprehensive project context by:
- **🎯 Prioritizing** high-scoring, relevant documentation sources
- **📋 Integrating** content from multiple markdown files beyond README.md
- **⚖️ Balancing** context size to avoid token overflow while maximizing information
- **💡 Suggesting** the most valuable source files for manual review

### Example Analysis Output

```bash
🔍 Performing comprehensive project analysis...
✅ Found 12 additional markdown files
📋 Found 12 additional relevant files:
   • stakeholder-requirements.md (planning, score: 89)
   • architecture-overview.md (development, score: 76)
   • project-scope.md (planning, score: 71)
   • api-documentation.md (development, score: 65)
   • user-guide.md (documentation, score: 58)
💡 High-value sources identified: stakeholder-requirements.md, architecture-overview.md, project-scope.md
```

This enhanced analysis ensures that **all relevant project information** is discovered and incorporated into your PMBOK documents, resulting in more accurate, comprehensive, and stakeholder-specific documentation.

## 🧠 Enhanced Context Manager

The Requirements Gathering Agent features an **Enhanced Context Manager** that dramatically improves documentation quality by providing comprehensive context to large language models. This intelligent system adapts to your AI model's capabilities to deliver the best possible results.

### 🚀 Key Performance Improvements

- **25-75x Context Improvement**: From 0.66% to 20-50% context utilization
- **Large Model Optimization**: Up to 90% context utilization for models like Gemini 1.5 Pro
- **Intelligent Adaptation**: Automatically detects and optimizes for your AI model's capabilities
- **Comprehensive Project Understanding**: Provides full project context for accurate documentation

### 🔧 3-Phase Context Strategy

The Enhanced Context Manager implements an intelligent 3-phase approach:

#### Phase 1: Core Context
- **Direct Relationships**: All directly related content with smart prioritization
- **Relationship Scoring**: Context prioritized by relationship count and relevance
- **Token Optimization**: Precise token estimation and allocation

#### Phase 2: Ultra-Large Model Support (>200k tokens)
- **Comprehensive Context**: For models like Gemini 1.5 Pro/Flash (1M-2M tokens)
- **Maximum Accuracy**: Includes ALL available project context when possible
- **Smart Buffer Management**: 10k token response buffer for optimal performance

#### Phase 3: Large Model Supplementary (50k-200k tokens)
- **Selective Enhancement**: Top 3 supplementary contexts for models like GPT-4, Claude
- **Balanced Approach**: Optimal context without overwhelming smaller models
- **Performance Optimization**: Intelligent caching and token management

### 📊 Model-Specific Optimization

The system automatically detects and optimizes for different AI models:

| Model | Token Limit | Context Strategy | Expected Utilization |
|-------|------------|------------------|---------------------|
| **Gemini 1.5 Pro** | 2M tokens | Ultra-large comprehensive | 20-90% |
| **Gemini 1.5 Flash** | 1M tokens | Ultra-large comprehensive | 20-90% |
| **GPT-4** | 128k tokens | Large supplementary | 15-50% |
| **Claude 3.5 Sonnet** | 200k tokens | Large supplementary | 15-50% |
| **Ollama Models** | 128k tokens | Large supplementary | 15-50% |

### 🎯 Real-World Impact

**Before Enhanced Context Manager:**
- Context utilization: ~0.66-0.80% of available tokens
- Limited project understanding
- Basic documentation generation

**After Enhanced Context Manager:**
- Context utilization: 20-90% for large models
- Comprehensive project understanding
- Dramatically more accurate and detailed documentation
- Better cross-references and consistency

### 📈 Advanced Reporting & Analytics

Get detailed insights into context performance:

```bash
# Get context utilization report
requirements-gathering-agent --context-report

# Analyze document-specific context usage
requirements-gathering-agent --analyze-context

# Performance metrics and optimization recommendations
requirements-gathering-agent --context-metrics
```

**Example Context Report:**
```
📊 Context Manager Performance Report
- Core Context Tokens: 12,450
- Enriched Context Items: 18
- Total Project Tokens: 156,890
- Model Type: Ultra-Large Context (Gemini 1.5 Pro)
- Context Utilization: 47.3% (946,800 tokens used)
- Performance: 🌟 Excellent - Making optimal use of large context capabilities
```

### Supported Project Structures

The enhanced analyzer intelligently searches common documentation patterns:

```
your-project/
├── README.md                    # Primary project documentation
├── docs/                       # General documentation
│   ├── architecture.md         # System architecture
│   ├── api.md                  # API documentation  
│   └── user-guide.md           # User guides
├── requirements/               # Requirements documentation
│   ├── stakeholders.md         # Stakeholder analysis
│   ├── functional.md           # Functional requirements
│   └── non-functional.md       # Non-functional requirements
├── specs/                      # Technical specifications
├── planning/                   # Project planning documents
│   ├── roadmap.md             # Project roadmap
│   └── scope.md               # Project scope
├── .github/                    # GitHub documentation
│   └── CONTRIBUTING.md         # Contribution guidelines
├── design/                     # Design documentation
└── wiki/                       # Wiki-style documentation
```

The analyzer automatically:
- **🔍 Searches recursively** up to 3 levels deep in each directory
- **⚡ Skips system directories** (node_modules, .git, dist, build, etc.)
- **🚫 Avoids generated content** (generated-documents, coverage, logs, etc.)
- **📊 Provides source suggestions** for the highest-value documentation files

## Configuration

Create a `.env` file with your AI provider configuration:

### Google AI Studio (Free Tier Available) - Recommended for Large Context
```bash
GOOGLE_AI_API_KEY=your-google-ai-api-key
GOOGLE_AI_MODEL=gemini-1.5-pro    # 2M tokens - Ultra-large context
# OR
GOOGLE_AI_MODEL=gemini-1.5-flash  # 1M tokens - Large context
```
Get your API key: https://makersuite.google.com/app/apikey

*Note: Gemini models provide the best context utilization with the Enhanced Context Manager, supporting up to 2M tokens for comprehensive project analysis.*

### Azure OpenAI (Recommended)
```bash
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
DEPLOYMENT_NAME=gpt-4.1-mini
USE_ENTRA_ID=true
```

### GitHub AI (Free Tier)
```bash
AZURE_AI_ENDPOINT=https://models.inference.ai.azure.com
GITHUB_TOKEN=your-github-token
REQUIREMENTS_AGENT_MODEL=gpt-4o-mini
```

### Ollama (Local)
```bash
AZURE_AI_ENDPOINT=http://localhost:11434
REQUIREMENTS_AGENT_MODEL=llama3.1
```

## Generated Documents

The tool generates a comprehensive set of documents from **technical design specifications** to **strategic business communications** to **PMBOK-compliant project artifacts**:

### � Technical Design Documents (NEW!)
- **Architecture Design** - Comprehensive system architecture documentation
- **System Design** - Detailed system design specifications and patterns
- **Database Schema** - Database structure, relationships, and data modeling
- **API Documentation** - RESTful API specifications and integration guides
- **Security Design** - Security architecture, protocols, and compliance frameworks
- **Performance Requirements** - Performance specifications, benchmarks, and SLAs
- **Integration Design** - System integration patterns and data flow documentation
- **Technical Stack** - Technology stack analysis and recommendations
- **Deployment Architecture** - Infrastructure, deployment strategies, and environments
- **Error Handling** - Error handling patterns, recovery procedures, and logging strategies

### 🎯 Strategic Statements
- **Purpose Statement** - Executive-ready organizational purpose and mission definition
- **Company Values** - Professional cultural document with actionable behavioral examples
- **Mission & Vision** - Strategic direction and aspirational goals
- *More strategic documents coming soon...*

### 📋 Core Analysis
- Project Summary and Goals
- User Stories and Requirements  
- User Personas
- Key Roles and Needs Analysis

### 📜 Project Charter
- PMBOK Project Charter

### 📊 Management Plans
- Scope Management Plan
- Risk Management Plan
- Cost Management Plan
- Quality Management Plan
- Resource Management Plan
- Communication Management Plan
- Procurement Management Plan

### 🏗️ Planning Artifacts
- Work Breakdown Structure (WBS)
- WBS Dictionary
- Activity List and Estimates
- Schedule Network Diagram
- Milestone List

### 👥 Stakeholder Management
- Stakeholder Register
- Stakeholder Engagement Plan
- Stakeholder Analysis

### ⚙️ Technical Analysis
- Technology Stack Analysis
- Data Model Suggestions
- Risk Analysis
- Acceptance Criteria
- Compliance Considerations
- UI/UX Considerations

## Output Structure

```
generated-documents/
├── README.md                     # Master index
├── technical-design/            # Technical design documents (NEW!)
│   ├── architecture-design.md   # System architecture
│   ├── system-design.md         # System design specifications
│   ├── database-schema.md       # Database structure and relationships
│   ├── api-documentation.md     # API specifications
│   ├── security-design.md       # Security architecture
│   ├── performance-requirements.md # Performance specifications
│   ├── integration-design.md    # Integration patterns
│   ├── technical-stack.md       # Technology recommendations
│   ├── deployment-architecture.md # Deployment strategies
│   └── error-handling.md        # Error handling patterns
├── strategic-statements/        # Executive business documents
├── core-analysis/               # Business requirements
├── project-charter/             # Formal authorization
├── management-plans/            # PMBOK management plans
├── planning-artifacts/          # Detailed planning
├── stakeholder-management/      # Stakeholder analysis
└── technical-analysis/          # Technology recommendations
```

## Validation & Quality Assurance

### PMBOK 7.0 Compliance Validation
- **Document Completeness**: Validates all required PMBOK elements are present
- **Quality Assessment**: Scores documents based on structure, content, and terminology
- **Cross-Document Consistency**: Ensures consistency across related documents
- **Compliance Reporting**: Detailed reports with actionable recommendations

### Validation Features
- ✅ PMBOK 7.0 standard compliance checking
- ✅ Required element verification for each document type
- ✅ Project terminology consistency validation
- ✅ Document quality scoring (0-100 scale)
- ✅ Cross-reference validation between documents
- ✅ Comprehensive validation reports with recommendations

---

## 🆕 Version Control System for Generated Documents (v2.1.3+)

The Requirements Gathering Agent now features a built-in version control system (VCS) for all generated documents!

### Key Features

- **Automatic Versioning:** Every time you generate or update documents, changes are automatically committed to a local git repository in the `generated-documents/` folder.
- **History & Diffs:** View the full history of changes, see diffs, and revert to previous versions of any generated document.
- **CLI VCS Commands:** Manage document version control directly from the CLI:

  ```bash
  requirements-gathering-agent vcs log
      # Show commit history for generated documents
  requirements-gathering-agent vcs diff <file>
      # Show changes for a specific document
  requirements-gathering-agent vcs revert <file> <commit>
      # Revert a document to a previous version
  requirements-gathering-agent vcs status
      # Show uncommitted changes
  requirements-gathering-agent vcs push
      # Push local changes to remote repository (if configured)
  requirements-gathering-agent vcs pull
      # Pull latest changes from remote repository (if configured)
  ```
- **Remote Sync (Optional):** Configure a remote git repository for backup and collaboration.
- **User Configurable:** Control VCS settings in `config-rga.json` (enable/disable, auto-commit, remote, branch, etc).
- **Full Audit Trail:** Every document change is tracked for compliance and traceability.

### How It Works

- On first run, a git repository is initialized in `generated-documents/` (if not already present).
- After each document generation, changes are auto-committed with a timestamp and provider/model info.
- Use the CLI VCS commands to inspect history, view diffs, revert, or sync with a remote.

### Example Workflow

```bash
# Generate documents (auto-commit runs after generation)
requirements-gathering-agent

# View history
requirements-gathering-agent vcs log

# See changes for a specific file
requirements-gathering-agent vcs diff core-analysis/business-case.md

# Revert a file to a previous version
requirements-gathering-agent vcs revert core-analysis/business-case.md <commit-hash>

# Push changes to remote (if configured)
requirements-gathering-agent vcs push
```

---

## Command Line Options

```bash
requirements-gathering-agent [options]

Options:
  -h, --help                    Show help
  -v, --version                 Show version
  --core-only                   Generate core documents only
  --management-plans            Generate management plans only
  --planning-artifacts          Generate planning artifacts only
  --technical-analysis          Generate technical analysis only
  --generate-technical          Generate technical design documents only (NEW!)
  --generate-stakeholder        Generate stakeholder documents only
  --with-retry                  Enable retry logic for failed documents
  --output <dir>                Specify output directory (default: generated-documents)
  --format <fmt>                Output format: markdown|json|yaml (default: markdown)
  --quiet                       Suppress progress messages (good for CI/CD)
  
Validation Options:
  --validate-pmbok              Generate all documents with PMBOK 7.0 validation
  --generate-with-validation    Generate with comprehensive quality assessment
  --validate-only               Validate existing documents without regenerating
  --validate-consistency        Check cross-document consistency only
  --quality-assessment          Provide detailed quality scores for documents

Context Management Options:
  --context-report              Show Enhanced Context Manager performance report
  --analyze-context             Analyze document-specific context utilization
  --context-metrics             Display context performance metrics and recommendations
  --use-large-context           Force large context mode (auto-detected by default)

VCS Options:
  --vcs-log                     Show commit history for generated documents
  --vcs-diff <file>            Show changes for a specific document
  --vcs-revert <file> <commit>  Revert a document to a previous version
  --vcs-status                  Show uncommitted changes
  --vcs-push                    Push local changes to remote repository (if configured)
  --vcs-pull                    Pull latest changes from remote repository (if configured)
```

## 🧩 Modular Processor Architecture (2025 Update)

The Requirements Gathering Agent now uses a modular, configuration-driven processor factory for all document generation. This makes it easy to add, update, or swap document processors without changing core code.

- **Processors are registered in `processor-config.json`** using canonical keys.
- **ProcessorFactory** loads and instantiates processors based on this config, supporting both static and dynamic imports.
- **To add a new document type:**
  1. Implement your processor in `src/modules/documentTemplates/<category>/<YourProcessor>.ts`.
  2. Register it in `processor-config.json`.
  3. Add it to `generationTasks.ts` and update context relationships if needed.
  4. Add a Jest unit test for your processor (see below).
  5. Update documentation and CLI help.

See [`docs/ARCHITECTURE.md`](docs/ARCHITECTURE.md) and [`docs/STEPS-TO-IMPLEMENT-NEW-DOCS.md`](docs/STEPS-TO-IMPLEMENT-NEW-DOCS.md) for full details.

---

## 🆕 Project KickOff Preparations Checklist

A new document type: **Project KickOff Preparations Checklist**

- **Purpose:** Provides a detailed, PMBOK-aligned checklist for project initiation, planning, setup, risk, communication, and more.
- **Canonical key:** `project-kickoff-preparations-checklist`
- **Output:** `planning-artifacts/project-kickoff-preparations-checklist.md`
- **How to generate:**
  ```pwsh
  requirements-gathering-agent --generate-planning
  # or generate all documents (includes checklist)
  requirements-gathering-agent
  ```
- **CLI listing:** Appears under planning artifacts in `--list-templates` and help output.

---

## 🛠️ How to Add New Document Types

1. Follow the modular processor pattern (see above).
2. Reference [`docs/STEPS-TO-IMPLEMENT-NEW-DOCS.md`](docs/STEPS-TO-IMPLEMENT-NEW-DOCS.md) for a step-by-step guide and worked example.
3. Add a Jest unit test for your processor (see guide for example).
4. Update CLI help and documentation.

---

(Sections above and below remain unchanged)

## Enhanced Analysis in Action

When you run the Requirements Gathering Agent, you'll see the comprehensive analysis and enhanced context management in action:

```bash
🚀 Requirements Gathering Agent v2.1.1
✅ Environment configuration loaded
🧠 Enhanced Context Manager initialized (Gemini 1.5 Pro - 2M tokens)
🔍 Performing comprehensive project analysis...
🔍 Analyzing project for all relevant markdown files...
✅ Found 15 additional markdown files
📋 Found 15 additional relevant files:
   • stakeholder-analysis.md (planning, score: 94)
   • system-architecture.md (development, score: 87)
   • requirements-specification.md (planning, score: 82)
   • api-documentation.md (development, score: 76)
   • user-stories.md (planning, score: 71)
   • ... and 10 more files
💡 High-value sources identified: stakeholder-analysis.md, system-architecture.md, requirements-specification.md
🧠 Context Strategy: Ultra-large model detected - Using comprehensive 3-phase context
📊 Context Utilization: 47.3% (946,800 / 2,000,000 tokens)
📋 Starting PMBOK document generation with enhanced context...
```

This comprehensive analysis and enhanced context management ensures your generated PMBOK documents include **all relevant project information** with maximum context utilization for your AI model's capabilities.

### 🔥 Enhanced Context Manager in Action

The Enhanced Context Manager provides real-time insights during document generation:

```bash
🔧 Building context for project-charter (large context model)
📊 Available tokens: 1,847,550
📄 Added full context for stakeholder-analysis: 23,450 tokens
📄 Added full context for system-architecture: 18,920 tokens
📄 Added full context for requirements-specification: 15,670 tokens
🌟 Ultra-large context model: Including comprehensive project context
📚 Added comprehensive context for api-documentation: 12,340 tokens
📚 Added comprehensive context for user-stories: 8,920 tokens
✅ Final context for project-charter: 1,156,890 tokens (57.8% utilization)
```

This level of context ensures that each generated document has access to the full project understanding, resulting in:
- **More Accurate Documentation**: Complete project understanding leads to better accuracy
- **Better Cross-References**: Full context enables proper document relationships
- **Consistent Terminology**: Comprehensive context maintains consistency across documents
- **Stakeholder-Specific Content**: Rich context enables targeted stakeholder analysis

## Validation Output Examples

### PMBOK 7.0 Compliance Report
```
📊 PMBOK 7.0 Compliance Validation Report
==========================================

🎯 Overall Compliance: ✅ COMPLIANT
📈 Consistency Score: 92/100

📋 Document Quality Scores:
   • project-charter: 95/100
     ✅ All required PMBOK elements covered
     ✅ Uses appropriate PMBOK terminology (8 terms found)
   • stakeholder-register: 88/100
     ✅ Well-structured with multiple sections
     ⚠️ Consider adding stakeholder influence analysis

💡 Recommendations:
   • Ensure all documents follow PMBOK 7.0 performance domains
   • Include clear traceability between objectives and deliverables
   • Maintain consistent terminology across all documents
```

### Quality Assessment Features
- **Enhanced Context Analysis**: Automatically discovers and analyzes ALL project documentation
- **Enhanced Context Manager**: 3-phase context strategy with up to 90% token utilization for large models
- **Smart Source Prioritization**: Scores and ranks documentation by PMBOK relevance (0-100)  
- **Content Analysis**: Checks document length, structure, and completeness
- **PMBOK Terminology**: Validates use of standard project management terms
- **Element Coverage**: Ensures all required PMBOK elements are present
- **Consistency Scoring**: Cross-document validation and scoring
- **Actionable Recommendations**: Specific suggestions for improvement
- **Comprehensive Source Discovery**: Finds stakeholder docs, architecture files, requirements beyond README.md

## Authentication

### Google AI Studio
Get your API key from [Google AI Studio](https://makersuite.google.com/app/apikey)

### Azure OpenAI with Entra ID
```bash
az login
```

### Azure OpenAI with API Key
Set `AZURE_AI_API_KEY` in your `.env` file

### GitHub AI
Get your token from [GitHub Settings](https://github.com/settings/tokens)

### Ollama
```bash
ollama serve
```

## Development

```bash
# Clone repository
git clone https://github.com/mdresch/requirements-gathering-agent.git
cd requirements-gathering-agent

# Install dependencies
npm install

# Build
npm run build

# Run locally
npm start
```

## Requirements

- Node.js 18.0.0 or higher
- Azure OpenAI resource (recommended) or alternative AI provider
- Azure CLI (for Entra ID authentication)
- **Project Documentation**: The more comprehensive your project documentation (beyond README.md), the richer and more accurate your generated PMBOK documents will be

## What Makes This Different?

The Requirements Gathering Agent stands out by providing:

🏆 **Complete Technical Design System** - Enterprise-grade technical documentation suite with 10 specialized processors for architecture, system design, database schema, API documentation, security design, and more

� **AI-Powered Technical Intelligence** - Each technical document type uses specialized AI prompts for intelligent, context-aware content generation tailored to specific technical domains

📋 **Professional Technical Templates** - Comprehensive, enterprise-ready markdown templates with executive summaries, detailed specifications, implementation guidelines, and best practices

�🔍 **Comprehensive Project Analysis** - Unlike tools that only read README files, we analyze your ENTIRE project documentation ecosystem

🧠 **Enhanced Context Manager** - Revolutionary 3-phase context strategy providing 25-75x more context to AI models for dramatically better documentation

📊 **Intelligent Source Discovery** - Automatically finds and analyzes stakeholder documents, architecture specs, requirements files, and more

🚀 **Large Context Model Optimization** - Up to 90% context utilization for models like Gemini 1.5 Pro (2M tokens), ensuring maximum accuracy

🎯 **PMBOK-Specific Intelligence** - Scores documentation relevance specifically for project management and PMBOK compliance

✅ **End-to-End Validation** - Not just generation, but comprehensive PMBOK 7.0 compliance validation with actionable recommendations

🏗️ **Enterprise-Ready** - Professional directory structure, multiple AI providers, robust error handling, and CI/CD support

🔧 **Model-Aware Performance** - Automatically detects your AI model's capabilities and optimizes context strategy accordingly

⚡ **Full CLI Integration** - Complete command-line accessibility for all document types with individual and batch generation options

## License

MIT License - see [LICENSE](LICENSE) file for details.

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## Support

- 📖 [Documentation](https://github.com/mdresch/requirements-gathering-agent)
- 🐛 [Issues](https://github.com/mdresch/requirements-gathering-agent/issues)
- 💬 [Discussions](https://github.com/mdresch/requirements-gathering-agent/discussions)

---

**Built with ❤️ by [Menno Drescher] (https://exceptional-cba-project.webflow.io/) using Azure OpenAI**

## 🟡 Outstanding/Recent Issues & Fixes

### Issue: Zero Tokens in Context for Some Documents
- **Symptom:** Some generated documents (e.g., user-personas) showed `Final context: 0 tokens`.
- **Root Cause:** The Enhanced Context Manager was not being populated with the discovered markdown files from project analysis, resulting in an empty context for those documents.
- **Fix:** Added logic to ensure all discovered markdown files are added to the Enhanced Context Manager’s enriched context before document generation. Now, each document receives the full relevant context, and token counts reflect actual content.

### Issue: CLI Permission Denied (`npx rga`)
- **Symptom:** Running `npx rga` resulted in `Permission denied`.
- **Root Cause:** The CLI binary was not executable or not properly linked after build.
- **Fix:** Ensured the CLI is built (`npm run build`), has executable permissions (`chmod +x dist/cli.js`), and is correctly linked in the npm bin directory. Also, documented alternative run commands (`npm start`, `node dist/cli.js`).

### Issue: Enhanced Context Not Utilized for Large Models
- **Symptom:** Large language models (e.g., Gemini 1.5 Pro) were not utilizing their full context window.
- **Root Cause:** The context manager was not auto-detecting model capabilities or was too conservative in context allocation.
- **Fix:** Improved model detection and context allocation logic. Now, up to 90% of available tokens are used for ultra-large models, maximizing documentation accuracy.

---

## 🔧 Suggestions for Further Improvement

The Requirements Gathering Agent is robust and production-ready, but here are some areas for future enhancement—especially in the project analysis and context-building system:

- **Direct Context Injection:**  
  Add a function to directly inject all high-relevance markdown files into the Enhanced Context Manager’s enriched context, not just the combined context string. This will further improve per-document context building and accuracy for large LLMs.

- **Async Parallelization:**  
  For very large projects, consider parallelizing directory scans to speed up project analysis and markdown discovery.

- **Configurable Limits:**  
  Allow configuration of the maximum number of files and maximum content length included in the context via CLI options or environment variables, giving users more control over context size and performance.

- **Custom Directory Patterns:**  
  Enable users to specify additional directories or filename patterns to include or exclude in the analysis, making the tool even more flexible for diverse project structures.

- **Context Utilization Feedback:**  
  Provide real-time feedback or warnings if the context is being truncated due to token limits, and suggest ways to optimize context inclusion.


## 🧠 Enhanced llmProcessor.ts Improvements

⚡ Suggestions for Further Improvement
Async context population: For very large projects, consider parallelizing context injection for speed.
User-configurable context strategies: Allow users to tune context allocation via CLI or config.
Context pruning: Implement smarter pruning for extremely large projects to avoid token overflow.
More granular metrics: Track per-document context utilization and generation times.

Improvmenets contextManager.ts 
💡 Possible Improvements
AI-Powered Summarization:
Replace the fallback truncation in summarizeText with an actual LLM-powered summary for more meaningful context reduction.

Dynamic Context Mapping:
Allow the contextMap to be extended/configured at runtime or via project analysis, so relationships can be tailored to each project.

Async Context Assembly:
For very large projects, parallelize context fetching and summarization for speed.

Context Utilization Metrics:
Add methods to report how much of the available context window is used per document, and warn if context is being heavily truncated.

Context Pruning/Ranking:
Implement smarter selection of enriched context (e.g., based on relevance scores or recency) when there are too many sources to fit.

User-Configurable Token Limits:
Allow users to override maxContextTokens via CLI or config for advanced tuning.

Support for Additional Context Types:
Add support for images, diagrams, or other non-markdown sources as context (with appropriate conversion).

💡 Possible Improvements
AI-Powered Summarization:
Replace the fallback truncation in summarizeText with an actual LLM-powered summary for more meaningful context reduction.

Dynamic Context Mapping:
Allow the contextMap to be extended/configured at runtime or via project analysis, so relationships can be tailored to each project.

Async Context Assembly:
For very large projects, parallelize context fetching and summarization for speed.

Context Utilization Metrics:
Add methods to report how much of the available context window is used per document, and warn if context is being heavily truncated.

Context Pruning/Ranking:
Implement smarter selection of enriched context (e.g., based on relevance scores or recency) when there are too many sources to fit.

User-Configurable Token Limits:
Allow users to override maxContextTokens via CLI or config for advanced tuning.

Support for Additional Context Types:
Add support for images, diagrams, or other non-markdown sources as context (with appropriate conversion).

---

*Have an idea or want to contribute? Open an issue or pull request on GitHub!*


=== PROJECT METADATA ===
Name: requirements-gathering-agent
Description: 🎉 AI-powered PMBOK documentation generator - celebrating 175 weekly downloads milestone! Generates comprehensive project management documents from README context
Version: 2.1.3-prerelease
Dependencies: @azure-rest/ai-inference, @azure/identity, @azure/openai, @google/generative-ai, @types/node-fetch, dotenv, node-fetch, openai, requirements-gathering-agent, ts-node
Dev Dependencies: @jest/globals, @types/glob, @types/jest, @types/node, ajv, jest, rimraf, ts-jest, typescript
Available Scripts: build, start, dev, clean, test, test:providers, test:performance, test:azure, test:github, test:ollama, test:failover, test:unit, prepublishOnly

=== 02_REQUIREMENTS_MANAGEMENT_PLAN.MD (planning) ===
Path: Gitbook\PMBOK_Documents\Planning\02_Requirements_Management_Plan.md
Relevance Score: 100

# AI-Generated Requirements Management Plan

Certainly! Below is a detailed analysis of the **Requirements Gathering Agent** project requirements, covering **functional requirements**, **non-functional requirements**, **constraints**, and **acceptance criteria**, based on the provided project charter and related documents.

---

# Requirements Analysis for Requirements Gathering Agent Project

---

## 1. Functional Requirements (What the system must do)

Derived primarily from the High-Level Requirements, Project Objectives, and Project Scope:

| Req. ID | Description                                                                                                    | Priority   |
|---------|----------------------------------------------------------------------------------------------------------------|------------|
| FR-1    | Automatically generate PMBOK-compliant project charters from input data.                                       | High       |
| FR-2    | Produce additional PMBOK-compliant documents: stakeholder registers, scope management plans, risk management plans, work breakdown structures, and compliance documentation. | High       |
| FR-3    | Integrate with Azure AI inference APIs securely using managed identities (Azure Identity SDK).                 | High       |
| FR-4    | Output all generated documents strictly in validated JSON format to ensure interoperability.                  | High       |
| FR-5    | Provide a Command-Line Interface (CLI) for users to invoke the module and manage configurations.               | High       |
| FR-6    | Perform schema validation on generated outputs to ensure data integrity and PMBOK compliance.                  | High       |
| FR-7    | Support a modular architecture to allow future extensions and integration with third-party project management tools. | Medium     |
| FR-8    | Provide user documentation, tutorials, and training materials for onboarding and ongoing support.             | Medium     |
| F
... [truncated]

=== ARCHITECTURE.MD (development) ===
Path: docs\ARCHITECTURE.md
Relevance Score: 95

# Requirements Gathering Agent - Architecture Documentation

## Overview

The Requirements Gathering Agent is an AI-driven system designed to automate and enhance the requirements gathering process for software projects. It leverages multiple AI providers and context management techniques to generate comprehensive project documentation, user stories, and strategic planning artifacts.

## System Architecture

### Core Components

#### 1. Context Management System
- **Context Manager**: Central component for managing project context and AI interactions
- **Provider Abstraction**: Support for multiple AI providers (OpenAI, Google AI, GitHub Copilot, Ollama)
- **Context Injection**: Direct context injection capabilities for efficient AI processing

#### 2. AI Provider Integration
- **Multi-Provider Support**: Flexible architecture supporting various AI services
- **Provider Synchronization**: Coordinated AI provider management
- **Fallback Mechanisms**: Robust handling of provider failures

#### 3. Document Generation Engine
- **Template-Based Generation**: Structured document creation using predefined templates
- **PMBOK Compliance**: Project management artifacts following PMBOK guidelines
- **Automated Workflows**: End-to-end document generation pipelines

#### 4. CLI Interface
- **Command-Line Tools**: `cli.ts` and `cli-main.ts` for system interaction
- **Batch Processing**: Support for bulk document generation
- **Configuration Management**: Flexible configuration options

### Technology Stack

#### Core Technologies
- **TypeScript**: Primary development language for type safety and maintainability
- **Node.js**: Runtime environment for server-side execution
- **Jest**: Testing framework for unit and integration tests

#### AI Integration
- **OpenAI API**: GPT models for text generation and analysis
- **Google AI**: Gemini models for alternative AI processing
- **GitHub Copilot**: Code generation and assistance
- **Ollama**: 
... [truncated]

=== IMPLEMENTATION-GUIDE-PROVIDER-CHOICE-MENU.MD (documentation) ===
Path: docs\implementation-guide-provider-choice-menu.md
Relevance Score: 95

# Interactive AI Provider Selection Menu - Implementation Guide

**Document Version:** 1.0  
**Created:** December 2024  
**Last Updated:** December 2024  
**Target Audience:** Developers, Technical Leads, Product Managers  

---

## 📋 Table of Contents

1. [Overview](#overview)
2. [Current System Analysis](#current-system-analysis)
3. [Implementation Strategy](#implementation-strategy)
4. [Interactive Choice Menu Design](#interactive-choice-menu-design)
5. [Code Implementation](#code-implementation)
6. [Integration with Existing System](#integration-with-existing-system)
7. [User Experience Flow](#user-experience-flow)
8. [Error Handling & Validation](#error-handling--validation)
9. [Testing Strategy](#testing-strategy)
10. [Migration Guide](#migration-guide)
11. [Best Practices](#best-practices)
12. [Troubleshooting](#troubleshooting)

---

## 📖 Overview

This guide provides comprehensive documentation for implementing an interactive choice menu that allows users to select an AI provider before running the Requirements Gathering Agent. The feature enhances user experience by providing a visual selection interface instead of requiring manual environment configuration.

### 🎯 Objectives

- **Simplify Provider Selection**: Replace manual `.env` configuration with an interactive menu
- **Improve User Experience**: Provide clear provider options with descriptions and setup guidance
- **Maintain Existing Functionality**: Preserve current provider detection and fallback mechanisms
- **Enable Dynamic Switching**: Allow users to change providers without restarting the application

### 🔧 Key Features

- Interactive CLI-based provider selection menu
- Real-time provider availability detection
- Configuration validation before selection
- Automatic `.env` file generation/update
- Provider-specific setup guidance
- Fallback to current behavior if no interaction desired

---

## 🔍 Current System Analysis

### Existing Provi
... [truncated]

=== ARCHITECTURE.MD (development) ===
Path: docs\ARCHITECTURE.md
Relevance Score: 95

# Requirements Gathering Agent - Architecture Documentation

## Overview

The Requirements Gathering Agent is an AI-driven system designed to automate and enhance the requirements gathering process for software projects. It leverages multiple AI providers and context management techniques to generate comprehensive project documentation, user stories, and strategic planning artifacts.

## System Architecture

### Core Components

#### 1. Context Management System
- **Context Manager**: Central component for managing project context and AI interactions
- **Provider Abstraction**: Support for multiple AI providers (OpenAI, Google AI, GitHub Copilot, Ollama)
- **Context Injection**: Direct context injection capabilities for efficient AI processing

#### 2. AI Provider Integration
- **Multi-Provider Support**: Flexible architecture supporting various AI services
- **Provider Synchronization**: Coordinated AI provider management
- **Fallback Mechanisms**: Robust handling of provider failures

#### 3. Document Generation Engine
- **Template-Based Generation**: Structured document creation using predefined templates
- **PMBOK Compliance**: Project management artifacts following PMBOK guidelines
- **Automated Workflows**: End-to-end document generation pipelines

#### 4. CLI Interface
- **Command-Line Tools**: `cli.ts` and `cli-main.ts` for system interaction
- **Batch Processing**: Support for bulk document generation
- **Configuration Management**: Flexible configuration options

### Technology Stack

#### Core Technologies
- **TypeScript**: Primary development language for type safety and maintainability
- **Node.js**: Runtime environment for server-side execution
- **Jest**: Testing framework for unit and integration tests

#### AI Integration
- **OpenAI API**: GPT models for text generation and analysis
- **Google AI**: Gemini models for alternative AI processing
- **GitHub Copilot**: Code generation and assistance
- **Ollama**: 
... [truncated]

=== IMPLEMENTATION-GUIDE-PROVIDER-CHOICE-MENU.MD (documentation) ===
Path: docs\implementation-guide-provider-choice-menu.md
Relevance Score: 95

# Interactive AI Provider Selection Menu - Implementation Guide

**Document Version:** 1.0  
**Created:** December 2024  
**Last Updated:** December 2024  
**Target Audience:** Developers, Technical Leads, Product Managers  

---

## 📋 Table of Contents

1. [Overview](#overview)
2. [Current System Analysis](#current-system-analysis)
3. [Implementation Strategy](#implementation-strategy)
4. [Interactive Choice Menu Design](#interactive-choice-menu-design)
5. [Code Implementation](#code-implementation)
6. [Integration with Existing System](#integration-with-existing-system)
7. [User Experience Flow](#user-experience-flow)
8. [Error Handling & Validation](#error-handling--validation)
9. [Testing Strategy](#testing-strategy)
10. [Migration Guide](#migration-guide)
11. [Best Practices](#best-practices)
12. [Troubleshooting](#troubleshooting)

---

## 📖 Overview

This guide provides comprehensive documentation for implementing an interactive choice menu that allows users to select an AI provider before running the Requirements Gathering Agent. The feature enhances user experience by providing a visual selection interface instead of requiring manual environment configuration.

### 🎯 Objectives

- **Simplify Provider Selection**: Replace manual `.env` configuration with an interactive menu
- **Improve User Experience**: Provide clear provider options with descriptions and setup guidance
- **Maintain Existing Functionality**: Preserve current provider detection and fallback mechanisms
- **Enable Dynamic Switching**: Allow users to change providers without restarting the application

### 🔧 Key Features

- Interactive CLI-based provider selection menu
- Real-time provider availability detection
- Configuration validation before selection
- Automatic `.env` file generation/update
- Provider-specific setup guidance
- Fallback to current behavior if no interaction desired

---

## 🔍 Current System Analysis

### Existing Provi
... [truncated]

=== 01_SCOPE_MANAGEMENT_PLAN.MD (planning) ===
Path: Gitbook\PMBOK_Documents\Planning\01_Scope_Management_Plan.md
Relevance Score: 92

# AI-Generated Scope Management Plan

Certainly! Below is a detailed **Scope Management Plan** for the **Requirements Gathering Agent** project, structured per PMBOK standards and aligned with the project charter and related inputs you provided.

---

# Scope Management Plan  
## Project: Requirements Gathering Agent

---

## 1. Introduction

This Scope Management Plan defines how the project scope will be defined, developed, validated, and controlled throughout the lifecycle of the Requirements Gathering Agent project. Its purpose is to ensure that all project work and only the work required to complete the project successfully is included, ensuring alignment with the PMBOK standards, stakeholder expectations, and organizational policies.

---

## 2. Scope Management Approach

The project scope will be managed through a formal process involving requirements gathering, scope definition, Work Breakdown Structure (WBS) development, scope validation with stakeholders, and ongoing scope control. The plan will leverage iterative stakeholder engagement and formal documentation to manage scope creep and ensure traceability.

---

## 3. Scope Definition Process

### 3.1 Inputs

- Project Charter (defines high-level scope, objectives, and constraints)
- Stakeholder Register (identifies needs and expectations)
- Requirements Documentation (detailed functional and non-functional requirements)
- Organizational Process Assets (templates, lessons learned)
- Enterprise Environmental Factors (industry standards, regulatory requirements)

### 3.2 Activities

- Conduct detailed requirements elicitation workshops with key stakeholders (e.g., Project Managers, Business Analysts, Compliance Officers).
- Analyze and document detailed project deliverables, features, and boundaries.
- Identify and document in-scope and out-of-scope items explicitly to prevent ambiguity.
- Define acceptance criteria for project deliverables aligned with PMBOK compliance.

### 3.3 Outputs

- Detailed Project
... [truncated]

=== CHANGELOG.MD (documentation) ===
Path: docs\CHANGELOG.md
Relevance Score: 86

# Requirements Gathering Agent - Change Log

## Version History

### Latest Changes (Current Development)

#### Features Added
- **Multi-Provider AI Integration**: Enhanced support for OpenAI, Google AI, GitHub Copilot, and Ollama
- **Context Management System**: Improved context injection and management capabilities
- **Document Generation Engine**: Automated generation of project documentation and artifacts
- **Strategic Planning Tools**: Mission, vision, and strategic statement generation
- **PMBOK Compliance**: Project management artifacts following industry standards
- **Prerelease Version**: Published version `2.1.3-prerelease` to npm for testing and feedback.

#### Improvements
- **CLI Interface**: Enhanced command-line tools for better user experience
- **Error Handling**: Improved error management and recovery mechanisms
- **Performance Optimization**: Better resource utilization and API efficiency
- **Code Quality**: Enhanced TypeScript typing and ESLint configuration
- **Documentation**: Updated the `STEPS-TO-IMPLEMENT-NEW-DOCS.md` guide with recommendations for clarity, testing, validation, and best practices.
- **Testing**: Expanded test coverage for new document types and improved integration tests.
- **CLI**: Enhanced CLI support for new document categories and improved user experience.

#### Bug Fixes
- **Provider Synchronization**: Fixed issues with AI provider coordination
- **Context Validation**: Resolved context processing edge cases
- **File Generation**: Corrected document output formatting issues
- **Configuration Handling**: Fixed environment variable processing
- **Document Validation**: Resolved issues related to document validation and file access.

### Recent Development Milestones

#### Milestone 175 - Downloads and Distribution
- **Package Management**: Improved npm package configuration
- **Distribution Files**: Enhanced build and distribution process
- **Documentation**: Comprehensive project docume
... [truncated]

=== 03_PROJECT_SCOPE_STATEMENT.MD (planning) ===
Path: Gitbook\PMBOK_Documents\Planning\03_Project_Scope_Statement.md
Relevance Score: 86

# AI-Generated Project Scope Statement

# Business Case Analysis for the Requirements Gathering Agent Project

---

## Executive Summary

The **Requirements Gathering Agent** project aims to deliver an AI-augmented, Node.js/TypeScript CLI tool that automates the creation of PMBOK-compliant project management documentation. Leveraging Azure AI, it promises significant time savings, improved accuracy, compliance assurance, and better stakeholder alignment. This business case evaluates the financial viability, market potential, and strategic justification to support investment and prioritization.

---

## 1. Problem Statement

Project documentation creation is traditionally manual, time-consuming, error-prone, and often inconsistent across teams and projects. This leads to delays, compliance risks, and misaligned stakeholder expectations, impacting project success rates and increasing administrative overhead.

---

## 2. Proposed Solution

The Requirements Gathering Agent automates document generation with AI assistance, producing standardized, PMBOK-compliant artifacts (e.g., project charters, stakeholder registers, risk plans) in strict JSON format for seamless tool integration. By embedding best practices and compliance checks, it reduces manual effort and enforces governance.

---

## 3. Market Analysis

### 3.1 Target Market

- **Primary:** Medium to large organizations with established PMOs and software development teams requiring standardized project management processes.
- **Secondary:** Consulting firms, regulatory bodies, and vendors who rely on formal project documentation.

### 3.2 Market Needs

- Automation of repetitive PM documentation tasks.
- Compliance with PMBOK and regulatory standards.
- Integration with existing PM tools and workflows.
- Enhanced strategic planning and risk management via AI insights.

### 3.3 Competitive Landscape

- Existing tools mainly offer template-based document generation or manual PM software.
- Few solutions leverage AI 
... [truncated]

=== CHANGELOG.MD (documentation) ===
Path: docs\CHANGELOG.md
Relevance Score: 86

# Requirements Gathering Agent - Change Log

## Version History

### Latest Changes (Current Development)

#### Features Added
- **Multi-Provider AI Integration**: Enhanced support for OpenAI, Google AI, GitHub Copilot, and Ollama
- **Context Management System**: Improved context injection and management capabilities
- **Document Generation Engine**: Automated generation of project documentation and artifacts
- **Strategic Planning Tools**: Mission, vision, and strategic statement generation
- **PMBOK Compliance**: Project management artifacts following industry standards
- **Prerelease Version**: Published version `2.1.3-prerelease` to npm for testing and feedback.

#### Improvements
- **CLI Interface**: Enhanced command-line tools for better user experience
- **Error Handling**: Improved error management and recovery mechanisms
- **Performance Optimization**: Better resource utilization and API efficiency
- **Code Quality**: Enhanced TypeScript typing and ESLint configuration
- **Documentation**: Updated the `STEPS-TO-IMPLEMENT-NEW-DOCS.md` guide with recommendations for clarity, testing, validation, and best practices.
- **Testing**: Expanded test coverage for new document types and improved integration tests.
- **CLI**: Enhanced CLI support for new document categories and improved user experience.

#### Bug Fixes
- **Provider Synchronization**: Fixed issues with AI provider coordination
- **Context Validation**: Resolved context processing edge cases
- **File Generation**: Corrected document output formatting issues
- **Configuration Handling**: Fixed environment variable processing
- **Document Validation**: Resolved issues related to document validation and file access.

### Recent Development Milestones

#### Milestone 175 - Downloads and Distribution
- **Package Management**: Improved npm package configuration
- **Distribution Files**: Enhanced build and distribution process
- **Documentation**: Comprehensive project docume
... [truncated]

=== 01_PROJECT_CONTEXT_FROM_README.MD (planning) ===
Path: Gitbook\requirements\01_project_context_from_readme.md
Relevance Score: 80

# Project Context from README.md

# Requirements Gathering Agent

A comprehensive Node.js/TypeScript module for automated project management documentation generation using Azure AI. This tool generates complete PMBOK-aligned project documentation, including strategic sections, requirements, and comprehensive project management plans for any software project.

## Features

### Strategic Planning
- Project vision, mission, core values, and purpose statements
- User roles, needs, and processes identification
- Technology stack analysis and recommendations

### PMBOK-Aligned Documentation Generation
This tool can generate comprehensive project management documentation following the Project Management Body of Knowledge (PMBOK) framework:

#### Initiating Process Group
- **Project Charter**: Complete project authorization document
- **Stakeholder Register**: Comprehensive stakeholder identification and analysis

#### Planning Process Group
- **Scope Management Plan**: Project scope definition and control procedures
- **Requirements Management Plan**: Requirements collection, analysis, and traceability
- **Schedule Management Plan**: Time management and scheduling approach
- **Cost Management Plan**: Budget planning and cost control procedures
- **Quality Management Plan**: Quality assurance and control processes
- **Resource Management Plan**: Human and material resource planning
- **Communications Management Plan**: Stakeholder communication strategy
- **Risk Management Plan**: Risk identification, analysis, and response planning
- **Procurement Management Plan**: Vendor and contract management approach
- **Stakeholder Engagement Plan**: Stakeholder engagement strategies

#### Detailed Planning Artifacts
- **Work Breakdown Structure (WBS)**: Hierarchical project decomposition
- **WBS Dictionary**: Detailed work package descriptions
- **Activity List**: Comprehensive project activities
- **Activity Duration Estimates**: Time estimation fo
... [truncated]

. 
A systematic approach to ensure code quality, consistency, and adherence to best practices through structured peer review processes.

## 2. Code Review Objectives

### Primary Objectives
- Ensure code quality and maintainability
- Identify bugs and potential issues early
- Enforce coding standards and best practices
- Share knowledge and promote learning
- Improve system design and architecture
- Maintain security and performance standards

### Success Criteria
- All code changes reviewed before merge
- Review completion within defined SLA
- Consistent application of coding standards
- Reduction in post-deployment defects
- Improved team knowledge sharing

## 3. Code Review Process

### 3.1 Pre-Review Requirements
- **Code Completion:** All functionality implemented and unit tested
- **Self Review:** Developer performs initial self-review
- **Documentation:** Code properly documented and commented
- **Testing:** All tests pass successfully
- **Standards Compliance:** Code follows established coding standards

### 3.2 Review Initiation
1. **Pull Request Creation**
   - Clear title describing the change
   - Detailed description of modifications
   - Reference to related issues/tickets
   - Test results and coverage information

2. **Reviewer Assignment**
   - Primary reviewer (technical lead/senior developer)
   - Secondary reviewer (peer developer)
   - Domain expert (if specialized knowledge required)

3. **Review Timeline**
   - Small changes (< 100 lines): 24 hours
   - Medium changes (100-500 lines): 48 hours
   - Large changes (> 500 lines): 72 hours
   - Critical/hotfix changes: 4 hours

### 3.3 Review Execution
1. **Code Analysis**
   - Functional correctness
   - Logic and algorithm efficiency
   - Error handling and edge cases
   - Code readability and maintainability

2. **Standards Verification**
   - Coding style consistency
   - Naming conventions
   - Documentation completeness
   - Test coverage adequacy

3. **Architecture Review**
   - Design pattern adherence
   - System integration impact
   - Performance implications
   - Security considerations

## 4. Review Criteria and Standards

### 4.1 Code Quality Criteria
#### General Quality Standards
- **Readability:** Code is clear and self-documenting
- **Simplicity:** Solutions are elegant and not over-engineered
- **Consistency:** Follows established patterns and conventions
- **Modularity:** Proper separation of concerns and loose coupling
- **Reusability:** Components designed for reuse where appropriate

### 4.2 Functional Criteria
- **Correctness:** Code implements requirements accurately
- **Completeness:** All edge cases and error conditions handled
- **Performance:** Efficient algorithms and resource usage
- **Scalability:** Solution supports expected growth
- **Reliability:** Robust error handling and recovery

### 4.3 Security Criteria
- **Input Validation:** All inputs properly validated and sanitized
- **Authentication:** Proper user authentication mechanisms
- **Authorization:** Appropriate access controls implemented
- **Data Protection:** Sensitive data properly protected
- **Vulnerability Prevention:** Common security issues addressed

## 5. Code Review Checklist

### 5.1 General Review Checklist
- [ ] **Functionality**
  - [ ] Code implements requirements correctly
  - [ ] All edge cases handled appropriately
  - [ ] Error conditions properly managed
  - [ ] Business logic is accurate

- [ ] **Code Quality**
  - [ ] Code is readable and well-structured
  - [ ] Appropriate comments and documentation
  - [ ] Consistent naming conventions
  - [ ] No code duplication
  - [ ] Proper error handling

- [ ] **Performance**
  - [ ] Efficient algorithms used
  - [ ] No unnecessary computations
  - [ ] Appropriate data structures
  - [ ] Memory usage optimized
  - [ ] Database queries optimized

- [ ] **Security**
  - [ ] Input validation implemented
  - [ ] No hardcoded secrets or credentials
  - [ ] Appropriate access controls
  - [ ] SQL injection prevention
  - [ ] XSS prevention measures

### 5.2 Testing Checklist
- [ ] **Unit Tests**
  - [ ] All new code covered by tests
  - [ ] Test cases cover edge conditions
  - [ ] Tests are maintainable and clear
  - [ ] Mocking used appropriately
  - [ ] Test data is realistic

- [ ] **Integration Tests**
  - [ ] Integration points tested
  - [ ] End-to-end scenarios covered
  - [ ] API contracts validated
  - [ ] Database interactions tested

### 5.3 Documentation Checklist
- [ ] **Code Documentation**
  - [ ] Complex logic explained
  - [ ] API methods documented
  - [ ] Configuration parameters documented
  - [ ] Dependencies clearly stated

- [ ] **User Documentation**
  - [ ] README updated if needed
  - [ ] API documentation current
  - [ ] Installation guide updated
  - [ ] User guide reflects changes

## 6. Review Types

### 6.1 Standard Review
- **Scope:** Regular feature development and bug fixes
- **Timeline:** Standard SLA applies
- **Reviewers:** 1-2 developers
- **Approval:** Simple majority required

### 6.2 Security Review
- **Scope:** Security-related changes or sensitive areas
- **Timeline:** Extended timeline for thorough analysis
- **Reviewers:** Security specialist required
- **Approval:** Security team sign-off mandatory

### 6.3 Architecture Review
- **Scope:** Major architectural changes or new components
- **Timeline:** Extended timeline with design discussion
- **Reviewers:** Technical architect and senior developers
- **Approval:** Architecture team consensus required

### 6.4 Hotfix Review
- **Scope:** Critical production fixes
- **Timeline:** Expedited 4-hour SLA
- **Reviewers:** Senior developer and technical lead
- **Approval:** Accelerated approval process

## 7. Roles and Responsibilities

### 7.1 Code Author
- **Before Review:**
  - Perform self-review of code
  - Ensure all tests pass
  - Write clear pull request description
  - Address automated tool findings

- **During Review:**
  - Respond to reviewer comments promptly
  - Explain design decisions when needed
  - Make requested changes efficiently
  - Engage in constructive discussion

### 7.2 Primary Reviewer
- **Responsibilities:**
  - Thorough technical review of code
  - Verify compliance with standards
  - Provide constructive feedback
  - Approve or request changes
  - Mentor junior developers

- **Timeline:**
  - Complete review within SLA
  - Provide timely feedback
  - Follow up on requested changes

### 7.3 Secondary Reviewer
- **Responsibilities:**
  - Independent perspective on changes
  - Focus on different aspects than primary reviewer
  - Provide additional feedback
  - Learn from code review process

### 7.4 Technical Lead
- **Responsibilities:**
  - Define review standards and processes
  - Handle escalations and conflicts
  - Ensure consistency across team
  - Monitor review metrics and quality

## 8. Tools and Technology

### 8.1 Code Review Platform
- **Primary Tool:** [GitHub/GitLab/Azure DevOps]
- **Features:**
  - Pull request management
  - Inline commenting
  - Approval workflows
  - Integration with CI/CD

### 8.2 Automated Code Analysis
- **Static Analysis:** [SonarQube/CodeClimate]
- **Security Scanning:** [SAST tools specific to technology stack]
- **Code Coverage:** [Coverage tools integrated with build]
- **Linting:** [Language-specific linters]

### 8.3 Documentation Tools
- **API Documentation:** [Swagger/OpenAPI]
- **Code Documentation:** [Built-in language documentation tools]
- **Wiki/Confluence:** Team knowledge base
- **Markdown:** README and documentation files

## 9. Best Practices

### 9.1 For Code Authors
- **Keep Changes Small:** Smaller pull requests are easier to review
- **Single Responsibility:** One logical change per pull request
- **Clear Communication:** Write descriptive commit messages and PR descriptions
- **Self Review First:** Review your own code before requesting review
- **Be Responsive:** Address feedback promptly and professionally

### 9.2 For Reviewers
- **Be Constructive:** Provide helpful feedback, not just criticism
- **Be Specific:** Point out exact issues and suggest solutions
- **Be Timely:** Complete reviews within established SLA
- **Be Thorough:** Don't rush through reviews
- **Be Educational:** Help teammates learn and grow

### 9.3 Team Best Practices
- **Consistent Standards:** Apply standards consistently across all reviews
- **Knowledge Sharing:** Use reviews as learning opportunities
- **Continuous Improvement:** Regularly update processes and standards
- **Metrics Tracking:** Monitor review effectiveness and efficiency
- **Tool Optimization:** Leverage automation to focus on important issues

## 10. Common Review Issues

### 10.1 Code Quality Issues
- **Poor Naming:** Unclear variable, function, or class names
- **Code Duplication:** Repeated logic that should be abstracted
- **Large Functions:** Functions trying to do too much
- **Deep Nesting:** Overly complex conditional structures
- **Magic Numbers:** Hardcoded values without explanation

### 10.2 Logic Issues
- **Edge Cases:** Unhandled boundary conditions
- **Error Handling:** Missing or inadequate error handling
- **Race Conditions:** Concurrency issues in multi-threaded code
- **Memory Leaks:** Resources not properly released
- **Performance Issues:** Inefficient algorithms or queries

### 10.3 Security Issues
- **Input Validation:** Unvalidated user input
- **Authentication:** Weak or missing authentication
- **Authorization:** Improper access controls
- **Data Exposure:** Sensitive information in logs or responses
- **Injection Vulnerabilities:** SQL, XSS, or command injection risks

## 11. Review Metrics and KPIs

### 11.1 Process Metrics
- **Review Completion Time:** Average time to complete reviews
- **Review Coverage:** Percentage of code changes reviewed
- **Reviewer Participation:** Distribution of review load
- **Revision Cycles:** Number of review iterations per change

### 11.2 Quality Metrics
- **Defect Detection Rate:** Issues found in review vs. production
- **Post-Review Defects:** Bugs found after code review approval
- **Standards Compliance:** Adherence to coding standards
- **Test Coverage:** Code coverage maintained or improved

### 11.3 Team Metrics
- **Knowledge Sharing:** Cross-team review participation
- **Learning Velocity:** Skill improvement through reviews
- **Code Quality Trend:** Improvement in code quality over time
- **Review Satisfaction:** Team satisfaction with review process

## 12. Continuous Improvement

### 12.1 Process Refinement
- **Regular Retrospectives:** Monthly review of process effectiveness
- **Feedback Collection:** Gather team input on process improvements
- **Tool Evaluation:** Assess and upgrade review tools
- **Training Updates:** Keep team updated on best practices

### 12.2 Standards Evolution
- **Technology Updates:** Adapt standards for new technologies
- **Industry Best Practices:** Incorporate emerging best practices
- **Lessons Learned:** Update standards based on production issues
- **Team Growth:** Adjust processes as team expertise evolves

## 13. Escalation Process

### 13.1 Review Conflicts
1. **Discussion:** Attempt to resolve through discussion
2. **Technical Lead:** Escalate to technical lead for guidance
3. **Architecture Review:** Involve architecture team if needed
4. **Final Decision:** Technical lead makes final decision

### 13.2 Timeline Issues
1. **Notification:** Alert stakeholders of potential delays
2. **Priority Assessment:** Evaluate urgency and impact
3. **Resource Allocation:** Assign additional reviewers if needed
4. **Management Escalation:** Involve management for critical delays

---

*This Code Review Process and Guidelines document should be regularly updated to reflect evolving best practices and team needs.*