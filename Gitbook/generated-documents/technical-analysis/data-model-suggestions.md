# Data Model Suggestions

**Generated by Requirements Gathering Agent v2.0.0**  
**Category:** technical-analysis  
**Generated:** 2025-06-05T15:51:36.617Z  
**Description:** Database architecture and data model recommendations

---

Given the project context, the system generates comprehensive PMBOK-standard project management documents based on input README files, leveraging AI models. It supports multiple AI providers and outputs a structured set of documents across various PMBOK knowledge areas.

---

# Key Entities and Data Modeling Considerations

The data model should support:

1. **Project Metadata**: Core project info, input README, and outputs.
2. **Document Generation**: Tracking generation status, document metadata, versioning.
3. **PMBOK Document Types**: Capture the hierarchical structure of documents and their categories.
4. **AI Provider Configurations**: Manage different AI providers and their connection/authentication details.
5. **User & Authentication**: If multi-user or authentication management is needed.
6. **Error Handling & Retry**: Track errors and retries for document generation.
7. **Output Storage & Structure**: Possibly track file paths and generated content metadata.

---

# Suggested Data Models

### 1. Project

| Field               | Type        | Description                                   |
|---------------------|-------------|-----------------------------------------------|
| projectId           | UUID        | Unique identifier                             |
| name                | String      | Project name                                  |
| description         | Text        | Project description or extracted README content |
| createdAt           | DateTime    | Creation timestamp                            |
| updatedAt           | DateTime    | Last update timestamp                         |
| status              | Enum        | e.g., Pending, Processing, Completed, Failed |
| inputReadmePath     | String      | Path or URI to the input README file         |
| outputBasePath      | String      | Base directory where documents are generated |
| coreOnly            | Boolean     | Whether core-only document generation was requested |

---

### 2. DocumentCategory

Represents the PMBOK document category (e.g., Core Analysis, Project Charter)

| Field               | Type        | Description                                   |
|---------------------|-------------|-----------------------------------------------|
| categoryId          | UUID        | Unique identifier                             |
| name                | String      | Category name (e.g., "Core Analysis")        |
| description         | Text        | Description of the category                   |
| order               | Integer     | Sort order for UI or output structure         |

---

### 3. DocumentType

Represents specific document types generated under categories.

| Field               | Type        | Description                                   |
|---------------------|-------------|-----------------------------------------------|
| documentTypeId      | UUID        | Unique identifier                             |
| categoryId          | UUID (FK)   | FK to DocumentCategory                        |
| name                | String      | Document name (e.g., "Project Summary and Goals") |
| description         | Text        | Document description                          |
| isCoreDocument      | Boolean     | Flag indicating if this is a core document   |
| fileNamePattern     | String      | Template for file naming (e.g., "project-summary.md") |

---

### 4. GeneratedDocument

Tracks each generated document per project.

| Field               | Type        | Description                                   |
|---------------------|-------------|-----------------------------------------------|
| documentId          | UUID        | Unique identifier                             |
| projectId           | UUID (FK)   | FK to Project                                |
| documentTypeId      | UUID (FK)   | FK to DocumentType                           |
| filePath            | String      | Relative or absolute file path                |
| contentHash         | String      | Hash of content for versioning/deduplication |
| status              | Enum        | Pending, Generated, Failed                     |
| errorMessage        | Text        | Error info if generation failed                |
| generatedAt         | DateTime    | Timestamp of generation                         |
| retryCount          | Integer     | Number of retries attempted                     |

---

### 5. AIProviderConfig

Stores configurations for AI providers.

| Field               | Type        | Description                                   |
|---------------------|-------------|-----------------------------------------------|
| configId            | UUID        | Unique identifier                             |
| providerName        | Enum        | AzureOpenAI, GitHubAI, Ollama                  |
| endpoint            | String      | Endpoint URL                                 |
| deploymentName      | String      | Model deployment or model name                |
| useEntraId          | Boolean     | Whether Entra ID auth is used                  |
| apiKey              | Encrypted String | API key or token                             |
| additionalParams    | JSON        | Provider-specific parameters                   |
| createdAt           | DateTime    | Timestamp                                     |
| updatedAt           | DateTime    | Timestamp                                     |

---

### 6. GenerationJob

Tracks document generation runs per project, options, and status.

| Field               | Type        | Description                                   |
|---------------------|-------------|-----------------------------------------------|
| jobId               | UUID        | Unique identifier                             |
| projectId           | UUID (FK)   | Project related to this job                   |
| options             | JSON        | CLI options used (core-only, with-retry, etc.)|
| startedAt           | DateTime    | Start timestamp                              |
| finishedAt          | DateTime    | Finish timestamp                             |
| status              | Enum        | Running, Completed, Failed                    |
| logs                | Text        | Logs or messages from generation              |

---

### 7. Stakeholder (Optional, if stakeholder info is stored)

| Field               | Type        | Description                                   |
|---------------------|-------------|-----------------------------------------------|
| stakeholderId       | UUID        | Unique identifier                             |
| projectId           | UUID (FK)   | Related project                              |
| name                | String      | Stakeholder name                             |
| role                | String      | Role in the project                          |
| needs               | Text        | Needs analysis                              |
| engagementLevel     | Enum        | Level of engagement                          |

---

# Relationships Diagram (Simplified)

```
Project 1---* GeneratedDocument *---1 DocumentType *---1 DocumentCategory
  |
  *---* GenerationJob
  |
  *---* Stakeholder (Optional)

AIProviderConfig (independent, linked to generation config)
```

---

# Storage and Implementation Notes

- **Document content**: Store as files in the output directory, with metadata in DB.
- **Versioning**: Could add version field to GeneratedDocument if multiple generations per document type per project.
- **Error Handling**: Store detailed logs and error messages in GenerationJob and GeneratedDocument.
- **Security**: Encrypt sensitive fields like API keys.
- **Extensibility**: The model supports adding new document categories and types easily.

---

# Summary

This data model provides a robust foundation to:

- Manage projects and their input data
- Track AI provider configurations
- Manage PMBOK document categories and types
- Track generated documents and their statuses
- Handle generation jobs with options and retries
- Extend to stakeholder or technical analysis data as needed

Let me know if you want data schemas in a specific database style (relational, document, graph) or example entity diagrams!